'use strict';var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};if("object"!=(void 0===console?'undefined':_typeof(console)))var console={info:function(e){window.status=e}};var runTime={remainTimer:0,waitOpenTimer:0,getLastOpenTimer:0,scollTopIntervalTimer:0,traceRemainTimer:0,traceWaitOpenTimer:0,buyTodayTimer:0,clearAll:function(){clearInterval(runTime.remainTimer),clearInterval(runTime.waitOpenTimer),clearInterval(runTime.getLastOpenTimer),clearInterval(runTime.scollTopIntervalTimer),clearInterval(runTime.traceRemainTimer),clearInterval(runTime.traceWaitOpenTimer),clearInterval(runTime.buyTodayTimer)}};!function(e){e.init=function(t){function a(t){if(t.code){for(var a=[],i=0,n=t.code.split(''),s=n.length;i<s;i++)a.push('<b>'+n[i]+'</b>');e("#todayIssuesBody").prepend('<ul class="fix"><li>'+t.issue+'</li><li>'+a.join('')+'</li></ul>')}}function n(e){var t=e>0?{day:Math.floor(e/86400),hour:Math.floor(e%86400/3600),minute:Math.floor(e%3600/60),second:Math.floor(e%60)}:{day:0,hour:0,minute:0,second:0};return 1==(t.hour+"").length&&(t.hour="0"+t.hour),1==(t.minute+"").length&&(t.minute="0"+t.minute),1==(t.second+"").length&&(t.second="0"+t.second),t}function s(t){var a=1,i=0;return e.each(t,function(e,t){i+=t.length,0==t.length&&(a=0)}),{flag:a,charsNum:i}}var l=e.extend({counter:0,lotteryId:1,lotteryName:'CQSSC',lotteryType:1,property_id:1,methods:[],maxCombPrize:0,openedIssues:[],minRebateGaps:[{from:0,to:.12,gap:.005},{from:.12,to:.125,gap:.001}],rebate:.123,defaultMode:1,defaultRebate:.123,missHot:{miss:[],hot:[]},halt:function(e){throw alert(e+'!'),e},prizeRate:0,curIssueInfo:{},lastIssueInfo:{},curMode:0,curMethod:{},curProjects:[],nextProjectCounter:0,curPrizeIndex:-1,rebateGapList:[],todayDrawList:[],curServerTime:'',curRemainTime:0,remainTimer:{},curWaitOpenTime:0,waitOpenTimer:{},getLastOpenTime:0,getLastOpenTimer:{},canBuy:!1,traceMethodPrize:0,tracePrizeLimit:0,canTraceIssues:[],counters:0},t),r={SXBD:{0:1,1:1,2:2,3:3,4:4,5:5,6:7,7:8,8:10,9:12,10:13,11:14,12:15,13:15,14:15,15:15,16:14,17:13,18:12,19:10,20:8,21:7,22:5,23:4,24:3,25:2,26:1,27:1},EXBD:{0:1,1:1,2:2,3:2,4:3,5:3,6:4,7:4,8:5,9:5,10:5,11:4,12:4,13:3,14:3,15:2,16:2,17:1,18:1},SXHZ:{0:1,1:3,2:6,3:10,4:15,5:21,6:28,7:36,8:45,9:55,10:63,11:69,12:73,13:75,14:75,15:73,16:69,17:63,18:55,19:45,20:36,21:28,22:21,23:15,24:10,25:6,26:3,27:1},EXHZ:{0:1,1:2,2:3,3:4,4:5,5:6,6:7,7:8,8:9,9:10,10:9,11:8,12:7,13:6,14:5,15:4,16:3,17:2,18:1},SXZXHZ:{1:1,2:2,3:2,4:4,5:5,6:6,7:8,8:10,9:11,10:13,11:14,12:14,13:15,14:15,15:14,16:14,17:13,18:11,19:10,20:8,21:6,22:5,23:4,24:2,25:2,26:1},factorial:function(e){return e<=1?1:e*r.factorial(e-1)},getNumByIssue:function(e){if(0==e.length)return!1;var t=e.indexOf("-");return-1!=t?e.substr(t+1):e.substr(e.length-3)},expandLotto:function(t){var a=[],i=[],n=0;if(e.each(t,function(t,a){if(""!=e.trim(a)){var s=a.split("_");s.sort(),i.push(s)}else n=1}),n)return[];var s,l,r,o,c;switch(t.length){case 2:for(s=0;s<i[0].length;s++)for(l=0;l<i[1].length;l++)a.push(i[0][s]+" "+i[1][l]);break;case 3:for(s=0;s<i[0].length;s++)for(l=0;l<i[1].length;l++)for(r=0;r<i[2].length;r++)a.push(i[0][s]+" "+i[1][l]+" "+i[2][r]);break;case 5:for(s=0;s<i[0].length;s++)for(l=0;l<i[1].length;l++)for(r=0;r<i[2].length;r++)for(o=0;o<i[3].length;o++)for(c=0;c<i[4].length;c++)a.push(i[0][s]+" "+i[1][l]+" "+i[2][r]+" "+i[2][o]+" "+i[2][c]);break;default:throw"unkown expand"}var u=[];return e.each(a,function(e,t){var a=t.split(" ");array_unique(a).length==a.length&&u.push(t)}),u}},o={uniqueArr:function(e){var t={};len=e.length,result=[];for(var a=0;a<len;a++)t[e[a]]||(t[e[a]]=!0,result.push(e[a]));return result}},c={modesBtn_Click:function(){var t=e("#modesDIV").val();e('#projectList').children('li').length>0?top.layer.confirm('切换元角分模式将影响您现有投注项，是否继续？',{icon:7},function(a){l.curMode=t,f.updateTotalSingle(),0!=e('#betCount').text()&&f.updateSingle(e('#betCount').text()),c.saveLastModes(),u.showPirze(),top.layer.close(a)},function(t){switch(l.curMode){case'1':e("#yuan").removeClass().addClass("yuan"),e("#jiao").removeClass().addClass("jiao_off"),e("#fen").removeClass().addClass("fen_off"),e("#li").removeClass().addClass("li_off"),e("#yuanYi").removeClass().addClass("yuanYi_off"),e("#jiaoYi").removeClass().addClass("jiaoYi_off");break;case'0.5':e("#yuan").removeClass().addClass("yuan_off"),e("#jiao").removeClass().addClass("jiao_off"),e("#fen").removeClass().addClass("fen_off"),e("#li").removeClass().addClass("li_off"),e("#yuanYi").removeClass().addClass("yuanYi"),e("#jiaoYi").removeClass().addClass("jiaoYi_off");break;case'0.1':e("#yuan").removeClass().addClass("yuan_off"),e("#jiao").removeClass().addClass("jiao"),e("#fen").removeClass().addClass("fen_off"),e("#li").removeClass().addClass("li_off"),e("#yuanYi").removeClass().addClass("yuanYi_off"),e("#jiaoYi").removeClass().addClass("jiaoYi_off");break;case'0.05':e("#yuan").removeClass().addClass("yuan_off"),e("#jiao").removeClass().addClass("jiao_off"),e("#fen").removeClass().addClass("fen_off"),e("#li").removeClass().addClass("li_off"),e("#yuanYi").removeClass().addClass("yuanYi_off"),e("#jiaoYi").removeClass().addClass("jiaoYi");break;case'0.01':e("#yuan").removeClass().addClass("yuan_off"),e("#jiao").removeClass().addClass("jiao_off"),e("#fen").removeClass().addClass("fen"),e("#li").removeClass().addClass("li_off"),e("#yuanYi").removeClass().addClass("yuanYi_off"),e("#jiaoYi").removeClass().addClass("jiaoYi_off");break;case'0.001':e("#li").removeClass().addClass("li"),e("#yuan").removeClass().addClass("yuan_off"),e("#jiao").removeClass().addClass("jiao_off"),e("#fen").removeClass().addClass("fen_off"),e("#yuanYi").removeClass().addClass("yuanYi_off"),e("#jiaoYi").removeClass().addClass("jiaoYi_off")}e("#modesDIV").val(l.curMode)}):(l.curMode=t,0!=e('#betCount').text()&&f.updateSingle(e('#betCount').text()),c.saveLastModes(),u.showPirze())},saveLastModes:function(){setCookie('mod_'+l.lotteryId,l.curMode,2592e3)}},u={changePrize:function(){if(('YMBDW'==l.curMethod.name||'QSYMBDW'==l.curMethod.name||'ZSYMBDW'==l.curMethod.name||'SXYMBDW'==l.curMethod.name||'WXYMBDW'==l.curMethod.name)&&l.rebateGapList[e("#curPrizeSpan").val()].prize>1900){var t=0;for(var a in l.rebateGapList)l.rebateGapList[a].prize<=1900&&l.rebateGapList[a].prize>t&&(l.curPrizeIndex=a,t=l.rebateGapList[a].prize);var i=e("#curPrizeSpan option").eq(l.curPrizeIndex).html().split("/");switch(l.curMethod.name){case'YMBDW':case'QSYMBDW':case'ZSYMBDW':parent.layer.alert('一码不定位最大奖金固定是￥'+i[0]+'，不能再往上调节',{icon:7});break;case'SXYMBDW':parent.layer.alert('四星一码不定位最大奖金固定是￥'+i[0]+'，不能再往上调节',{icon:7});break;case'WXYMBDW':parent.layer.alert('一码不定位最大奖金固定是￥'+i[0]+'，不能再往上调节',{icon:7})}e("#curPrizeSpan").val(l.curPrizeIndex);var n=l.curPrizeIndex,s=layer.confirm(sscmsg,{closeBtn:0,btn:['确定']},function(){if(layer.close(s),e("#curPrizeSpan").val(n),'和值'==l.curMethod.cname){var t=e('#curPrizeSpan option').eq(l.curPrizeIndex).text().split("/");e("#rebateValue").text(t[5])}e('#selectRebate').slider('option','value',n)})}else{if(!0!==e.isEmptyObject(l.curMethod)&&l.curMethod.description.indexOf("@P@")>0){for(var r=e("#curPrizeSpan option:selected").text().split("/"),o='',c=l.curMethod.description.split("@P@"),d=1;d<c.length;d++)void 0!=l.curMethod.prize[d]&&(o+=c[d-1]+Math.round(l.curMethod.prize[d]*r[0]/l.curMethod.prize[1]*1e4)/1e4+"元");o+=c[c.length-1],e("#methodDesc").text(o)}l.curPrizeIndex=e("#curPrizeSpan").val(),u.saveLastPrize(),f.updateTotalSingle()}},generateGapList:function(){var t=[];e.each(l.minRebateGaps,function(e,a){if(a.from=parseFloat(a.from),a.to=parseFloat(a.to),a.gap=parseFloat(a.gap),l.rebate>a.to)for(var i=a.from;i<=a.to;i+=a.gap)t.push(parseFloat(number_format(i,3)));else{for(i=a.from;i<a.to&&i<l.rebate;i+=a.gap)t.push(parseFloat(number_format(i,3)));t.push(parseFloat(number_format(l.rebate,3)))}}),t=array_unique(t);var a=[];return e.each(t,function(e,t){var i=round(l.maxCombPrize*(l.prizeRate+t),0);a.push({rebate:round(l.rebate-t,3),prize:i})}),a},showPirze:function(){if(!0!==e.isEmptyObject(l.curMethod)&&(e('#curPrizeSpan').empty(),e.each(l.rebateGapList,function(t,a){var i=round(l.curMode*l.curMethod.prize[1]*(l.prizeRate+l.rebate-l.rebateGapList[t].rebate)/l.prizeRate,2),n=number_format(100*parseFloat(l.rebateGapList[t].rebate),1),s=round(l.curMode*l.curMethod.prize[2]*(l.prizeRate+l.rebate-l.rebateGapList[t].rebate)/l.prizeRate,2),r=round(l.curMode*l.curMethod.prize[3]*(l.prizeRate+l.rebate-l.rebateGapList[t].rebate)/l.prizeRate,2),o=round(l.curMode*l.curMethod.prize[4]*(l.prizeRate+l.rebate-l.rebateGapList[t].rebate)/l.prizeRate,2),c=round(l.curMode*l.curMethod.prize[5]*(l.prizeRate+l.rebate-l.rebateGapList[t].rebate)/l.prizeRate,2);e('#curPrizeSpan').append('<option value="'+t+'">'+i+'/'+s+'/'+r+'/'+o+'/'+c+'/'+n+'%</option>'),e('#curPrizeSpan').siblings('span').html('奖金/返点')}),e("#curPrizeSpan").val(l.curPrizeIndex),u.changePrize(),e('#selectRebate').slider({range:'min',min:0,max:e('#curPrizeSpan option').length-1,value:e('#curPrizeSpan option:selected').index(),slide:function(t,a){if('和值'==l.curMethod.cname){i=e('#curPrizeSpan option').eq(l.curPrizeIndex).text().split("/");e(".pkhzList li:nth-child(1)").text(i[0]),e(".pkhzList li:nth-child(2)").text(i[0]),e(".pkhzList li:nth-child(3)").text(i[1]),e(".pkhzList li:nth-child(4)").text(i[1]),e(".pkhzList li:nth-child(5)").text(i[2]),e(".pkhzList li:nth-child(6)").text(i[2]),e(".pkhzList li:nth-child(7)").text(i[3]),e(".pkhzList li:nth-child(8)").text(i[3]),e(".pkhzList li:nth-child(9)").text(i[4]),e(".pkhzList li:nth-child(10)").text(i[3]),e(".pkhzList li:nth-child(11)").text(i[3]),e(".pkhzList li:nth-child(12)").text(i[2]),e(".pkhzList li:nth-child(13)").text(i[2]),e(".pkhzList li:nth-child(14)").text(i[1]),e(".pkhzList li:nth-child(15)").text(i[1]),e(".pkhzList li:nth-child(16)").text(i[0]),e(".pkhzList li:nth-child(17)").text(i[0]),e("#rebateValue").text(i[5])}else{var i=e('#curPrizeSpan option').eq(l.curPrizeIndex).text().split("/");e('#curPrizeSpan option').eq(a.value).html().split("/");e("#rebateValue").text(i[0]+'/'+i[5])}e('#curPrizeSpan option').removeAttr('selected'),e('#curPrizeSpan option').eq(a.value).attr('selected',!0),e('#curPrizeSpan').change(),l.curPrizeIndex=a.value}}),'和值'===l.curMethod.cname)){var t=e('#curPrizeSpan option').eq(l.curPrizeIndex).text().split("/");e("#rebateValue").text(t[5])}},saveLastPrize:function(){setCookie("reb_"+l.lotteryId,l.rebateGapList[l.curPrizeIndex].rebate,2592e3)}};e(".manuaTip").mouseenter(function(){e(this).children().show()}),e(".manuaTip").mouseleave(function(){e(this).children().hide()});var d={methodGroup_Click:function(t){e(this).addClass("methodGroup_selected").siblings().removeClass("methodGroup_selected methodGroup_hover"),e(t.target).is('label')&&(e("#manuaTip").hide(),e(this).find('li:first').click(),'PKS-OT'==e(this).find('li:first').attr('name')?(e("#selectArea").addClass('Dragontiger'),e(".ballList").children('li:first').addClass('Dragon'),e(".ballList").children('li:last').addClass('Tiger')):e("#selectArea").removeClass('Dragontiger')),e(this).addClass("methodGroup_hover"),/\w+_(\d+)/.test(e(this).attr("id"));RegExp.$1;e(".playNav ul ul").hide(),e(this).find('ul').show()},methodGroup_hoverOver:function(){e(this).addClass("methodGroup_hover"),e(this).hasClass("methodGroup_selected")&&e(this).find('ul').show()},methodGroup_hoverOut:function(){e(this).removeClass("methodGroup_hover"),/\w+_(\d+)/.test(e(this).attr("id"));RegExp.$1},method_hoverOver:function(){e(this).addClass("method_hover"),/\w+_(\d+)/.test(e(this).attr("id"));RegExp.$1;e(this).find('ul').show()},method_hoverOut:function(){e(this).removeClass("method_hover"),/\w+_(\d+)/.test(e(this).attr("id"));RegExp.$1;e(this).find('ul').hide()},method_Click:function(t){f.removeAll(),l.curMethod=t.data,e('#methodGroupContainer').find('.method').removeClass("method_selected"),e(this).addClass("method_selected"),e('#curMethod').text(l.curMethod.cname),e("#methodDesc").text(l.curMethod.description).hide(),e("#methodTipInfo").hover(function(){layer.tips(e("#methodDesc").text(),this,{tips:[2,'#f13131'],maxWidth:250,time:0,closeBtn:0})},function(){layer.closeAll('tips')}),1==l.curMethod.can_input?e("#inputBtn").show():e("#inputBtn").hide(),p.generateBall(),e(".selectRandomBtn").parent().hide(),f.updateSingle(0),u.showPirze(),0==propLen(l.curMethod.field_def)&&(p.showInput(),e("#singleInfo").show(),e("#selectArea").removeClass("N-selected"));propLen(l.curMethod.field_def);e("#selectArea").hasClass('Dragontiger')&&(e(".ballList").children('li:first').addClass('Dragon'),e(".ballList").children('li:last').addClass('Tiger'))},selectDefault:function(){e("#methodGroupContainer").find("label:contains('定位胆')").click(),e(".playNav ul ul").hide()}},p={reset:function(){e.isEmptyObject(l.curMethod.field_def)||(e.each(l.curMethod.field_def,function(t,a){e('#field_'+t).children().removeClass('ball_Selected')}),f.updateSingle(0))},showInput:function(){if(e("#selectArea").children().remove(),8==l.lotteryType){var t,a='<div class="manualInput fix"><div class="manualInputTop"><ul><li><p class="NumbBasket">号码篮</p><textarea cols="" rows="" class="inputTA MachineSeleBg" id="inputTA"></textarea></li><li id="delTA" class="delTA custBtnStyle">清空号码</li></ul></div></div>',i='<div class="manualInputBottom"><ul><li class="inputTip1"><p>提示：</p><p>请把您已有的大底号码复制或者输入到下边文本框中。</p><p>每注号码之间必须用 换行  隔开，每注号码每位之间必须使用 空格 作为分隔。</p><p>仅支持单式。 </p></li><li class="inputTip2"><p>例如：</p><p id="inputExample">',n=["01","02","03","04","05","06","07","08","09","10"];t=/SDRX(\d+)/.test(l.curMethod.name)?parseInt(RegExp.$1):propLen(l.curMethod.field_def),i+=n.slice(0,t).join(" ")+"<br/>"+n.slice(1,1+t).join(" ")+"<br></p></li></ul></div>"}e(a).appendTo("#selectArea"),e(i).appendTo("#manuaTip"),e("#delTA").click(function(){e("#inputTA").val("")}),e("#inputTA").keyup(function(){''!=e("#inputTA").val()?(e("#selectCodeBtn").addClass('selectCodeBtn_selected'),e(this).removeClass('MachineSeleBg')):e(this).addClass('MachineSeleBg')})},generateBall:function(){e("#selectArea").children().remove();e.each(l.curMethod.field_def,function(t,a){var i=a.nums.split(" "),n='',s="";e.each(i,function(e,t){n+='<li>'+t+"</li>"});n="<li><ul class=\"ballList"+(/(BD|HZ)$/.test(l.curMethod.name)?" w400":"")+'" id=field_'+t+">"+n+"</ul></li>",s='<li><ul class="BDHZinfo">'+s+"</ul></li>";var r="";/(DXDS)$/.test(l.curMethod.name)?r=' DXDS-margin-left':/(SDDDS)$/.test(l.curMethod.name)?r=' SDDDS-margin-left':/(SDCZW)$/.test(l.curMethod.name)&&(r=' SDCZW-margin-left'),e('<div class="locate" id="locate_'+t+'"><ul class="lotteryNumber'+r+'">'+(a.prompt?'<li class="areaPrefix">'+a.prompt+"</li>":"")+n+"</ul></div>").appendTo("#selectArea");var o=a.nums.split(' ');if("PKS-GYHZ"===l.curMethod.name){var c="";e.each(o,function(e,t){var a="";a+='03'===t||"04"===t||"18"===t||"19"===t?'<li>'+l.curMethod.prize[1].substring(0,5)+'</li>':'05'===t||"06"===t||"16"===t||"17"===t?'<li>'+l.curMethod.prize[2].substring(0,5)+'</li>':'07'===t||"08"===t||"14"===t||"15"===t?'<li>'+l.curMethod.prize[3].substring(0,5)+'</li>':'09'===t||"10"===t||"12"===t||"13"===t?'<li>'+l.curMethod.prize[4].substring(0,5)+'</li>':'<li>'+l.curMethod.prize[5].substring(0,5)+'</li>',c+=a});var u=e('<ul class="pkhzList"></ul>');u.append(c),e('#locate_1 > ul > li > ul').after(u)}a.has_filter_btn&&(e("#locate_"+t).find("ul").first().append("<li class=\"Quick\"><div class=\"QuickChoose\"><dl class=\"navSub\"><dd>全</dd><dd>奇</dd><dd>偶</dd> <dd>大</dd><dd>小</dd><dd>清</dd></dl></div></li>"),e("#locate_"+t).find("dd").click(function(){switch(e(this).text()){case'全':e('#field_'+t).children().addClass('ball_Selected');break;case'奇':e('#field_'+t).children().removeClass('ball_Selected').parent().find(":even").addClass('ball_Selected');break;case'偶':e('#field_'+t).children().removeClass('ball_Selected').parent().find(":odd").addClass('ball_Selected');break;case'大':e('#field_'+t).children().removeClass('ball_Selected').filter(function(e){return e>=5}).addClass('ball_Selected');break;case'小':e('#field_'+t).children().removeClass('ball_Selected').filter(function(e){return e<5}).addClass('ball_Selected');break;case'清':e('#field_'+t).children().removeClass('ball_Selected');break;case'质':e('#field_'+t).children().removeClass('ball_Selected').filter(function(t){return-1!=e.inArray(t,[1,2,4,6,10])}).addClass('ball_Selected');break;case'合':e('#field_'+t).children().removeClass('ball_Selected').filter(function(t){return-1!=e.inArray(t,[3,5,7,8,9])}).addClass('ball_Selected')}p.computeSingle()}));var d=[];d.length>0&&e.each(d,function(t,a){e(a).appendTo('#selectArea')})}),e('.lotteryNumber ul>li').bind("click",p.ball_Click),2==e(".locate").length?e(".locate").css("padding","10px 0"):3==e(".locate").length?e(".locate").css("padding","10px 0"):4==e(".locate").length?e(".locate").css("padding","5px 0"):5==e(".locate").length&&e(".locate").css("padding","5px 0")},getAssisInfo:function(t){var a=[];if(!e.isArray(l.missHot.miss)||!e.isArray(l.missHot.hot))return[];return a},ball_Click:function(t){e(this).toggleClass("ball_Selected"),/\w+_(\d+)/.test(e(this).parent().attr("id"));var a=RegExp.$1;e(this).parent().find(".ball_Selected").length>l.curMethod.field_def[a].max_selected?1==l.curMethod.field_def[a].max_selected?e(this).siblings(".ball_Selected").removeClass("ball_Selected"):(e(this).removeClass("ball_Selected"),parent.layer.alert("当前最多只能选择"+l.curMethod.field_def[a].max_selected+"个号码",{icon:7})):('JSETDX'==l.curMethod.name&&e('#locate_'+(1==a?2:1)).find(".ballList_k3no_square li").eq(parseInt(e(this).text().substr(0,1))-1).removeClass("ball_Selected"),p.computeSingle())},computeSingle:function(){var t=[];e.each(l.curMethod.field_def,function(a,i){var n="",s=l.curMethod.field_def[a].nums.split(" ");e("#field_"+a+" li").each(function(t){e(this).hasClass("ball_Selected")&&(2==l.lotteryType||l.curMethod.field_def[a].max_selected>10||s[s.length-1].length>1?n+=e(this).text()+"_":n+=e(this).text())}),-1==n.indexOf("_")?t.push(n):t.push(n.substr(0,n.length-1))});var a=b(t);f.updateSingle(a.singleNum);var i=t.join(",");return{singleNum:a.singleNum,isDup:a.isDup,code:i}}},m={missHotBtn_Click:function(){"1"==e(this).val()?(e("#selectArea .missDIV").removeClass("hidden"),e("#selectArea .hotDIV").addClass("hidden")):(e("#selectArea .missDIV").addClass("hidden"),e("#selectArea .hotDIV").removeClass("hidden"))}},h=0,f={selectCodeBtnFast:function(){if(1==(h+=1)){f.selectCodeBtn_Click(),f.confirmBtn_Click(1);var e=setInterval(function(){0==(h=0)&&clearInterval(e)},1e3)}},plusBtn_Click:function(){var t=e("#multiple").val();e("#multiple").val(parseInt(t)+1),f.checkMultiple(),f.updateTotalSingle()},minusBtn_Click:function(){var t=e("#multiple").val();parseInt(t)>1&&(e("#multiple").val(t-1),f.checkMultiple(),f.updateTotalSingle())},inputBtn_Click:function(){"手工录入"==e(this).children('label').text()?(e(this).children('label').text("常规录入"),p.showInput(),e("#manuaTip").show(),e("#selectCodeBtn").addClass("selectCodeBtn_selected"),e("#selectArea").removeClass("N-selected"),e(".selectRandomBtn").hide()):(e(this).children('label').text("手工录入"),e("#manuaTip").hide(),p.generateBall(),e("input[name=missHotBtn]:checked").click(),e("#selectArea").addClass("N-selected"),e("#selectCodeBtn").removeClass("selectCodeBtn_selected"),e(".selectRandomBtn").show())},selectCodeBtn_Click:function(){if(e("#inputTA").length>0){var t=[],a=e.trim(e("#inputTA").val());if(0==a.length)return!1;var i=a.split(/,|，|\n|;|；/),n=/^[01]\d$/,s=o.uniqueArr(i);for(var r in s){s[r]=e.trim(rtrim(e.trim(s[r]),","));var c=s[r].split(" ");for(var u in c)if(!n.test(c[u]))return parent.layer.alert("您输入的号码有误，请重新检查输入",{icon:7}),!1;if(c.length!=array_unique(c).length)return parent.layer.alert("您输入的号码有重复，请重新检查输入",{icon:7}),!1;t.push(c)}var d={singleNum:1,isDup:0},m='<li><span class="width1" mid="'+l.curMethod.method_id+'" mname="'+l.curMethod.name+'">',h=l.curMethod.cname+'</span><span class="width2">';if(t.length<=1e3)for(var r in t){var d=b(t[r]),v=number_format(2*d.singleNum*l.curMode,3),y='</span><span class="width3">'+d.singleNum+'注</span><span class="width4">￥'+v+'</span><span class="xDel">X</span></li>';if(d.isDup)return parent.layer.alert("您输入的号码有误，请重新检查输入!",{icon:7}),!1;l.nextProjectCounter++,e(m+h+t[r].join(",")+y).appendTo("#projectList")}else{var C='',g='';for(var r in t)if(C&&(C+='|'),C+=t[r].join(","),(d=b(t[r])).isDup)return parent.layer.alert("您输入的号码有误，请重新检查输入!",{icon:7}),!1;var v=number_format(2*t.length*l.curMode,3),y='</span><span class="width3">'+t.length+'注</span><span class="width4">￥'+v+'</span><span class="xDel">X</span></li>';l.nextProjectCounter=t.length,e(g+=m+h+C+y).appendTo("#projectList")}f.updateTotalSingle(),e("#delTA").click()}else{if(0==(d=p.computeSingle()).singleNum)return!1;l.nextProjectCounter++;v=number_format(2*d.singleNum*l.curMode,3);e('<li><span class="width1" mid="'+l.curMethod.method_id+'" mname="'+l.curMethod.name+'">'+l.curMethod.cname+'</span><span class="width2">'+d.code+'</span><span class="width3">'+d.singleNum+'注</span><span class="width4">￥'+v+'</span><span class="xDel">X</span></li>').appendTo("#projectList"),f.updateTotalSingle(),p.reset()}},rxInputCodes:function(e,t){for(var a=['-','-','-','-','-'],i=e[0];i<=e[e.length-1];i++)a[i]=''},removeAll:function(){e("#token").val(""),e("#projectList").empty(),l.nextProjectCounter=0,e("#totalSingleInfo input").val("1"),f.updateTotalSingle()},updateSingle:function(t){var a=number_format(2*t*l.curMode,3);e("#betCount").text(t),e("#betAmount").text(a);var i=0==e('#projectList li').length?1:e('#projectList li').length;if(t>0){e("#selectCodeBtn").parent().addClass('selectCodeBtn_selected');var n=e("#totalBetAmount").text(),s=(r=e('#curPrizeSpan').find("option:selected").text()).split('/')[0];e("#totalWin").text(number_format(s*i*e("#multiple").val()-n-a,3))}else{e("#selectCodeBtn").parent().removeClass('selectCodeBtn_selected');var n=e("#totalBetAmount").text(),r=e('#curPrizeSpan').find("option:selected").text(),s=r.split('/')[0];e("#totalWin").text(number_format(s*i*e("#multiple").val()-n,3))}},updateTotalSingle:function(){var t=0;e("#projectList").children("li").each(function(a){var i=e(this).children();t+=parseInt(i.eq(2).text()),i.eq(3).text("￥"+number_format(2*parseInt(i.eq(2).text())*e("#multiple").val()*l.curMode,3))}),t>0?e("#confirmBtn").addClass('CantapCodeBtn_selected'):e("#confirmBtn").removeClass('CantapCodeBtn_selected');var a=0==e('#projectList li').length?1:e('#projectList li').length;e("#totalBetCount").text(t);var i=number_format(2*t*e("#multiple").val()*l.curMode,3);e("#totalBetAmount").text(i);var n=e('#curPrizeSpan').find("option:selected").text().split('/')[0];if(e("#totalWin").text(number_format(n*a*e("#multiple").val()-i,3)),'和值'==l.curMethod.cname){s=e('#curPrizeSpan option').eq(l.curPrizeIndex).text().split("/");e(".pkhzList li:nth-child(1)").text(s[0]),e(".pkhzList li:nth-child(2)").text(s[0]),e(".pkhzList li:nth-child(3)").text(s[1]),e(".pkhzList li:nth-child(4)").text(s[1]),e(".pkhzList li:nth-child(5)").text(s[2]),e(".pkhzList li:nth-child(6)").text(s[2]),e(".pkhzList li:nth-child(7)").text(s[3]),e(".pkhzList li:nth-child(8)").text(s[3]),e(".pkhzList li:nth-child(9)").text(s[4]),e(".pkhzList li:nth-child(10)").text(s[3]),e(".pkhzList li:nth-child(11)").text(s[3]),e(".pkhzList li:nth-child(12)").text(s[2]),e(".pkhzList li:nth-child(13)").text(s[2]),e(".pkhzList li:nth-child(14)").text(s[1]),e(".pkhzList li:nth-child(15)").text(s[1]),e(".pkhzList li:nth-child(16)").text(s[0]),e(".pkhzList li:nth-child(17)").text(s[0]),e("#rebateValue").text(s[5])}else{var s=e('#curPrizeSpan option').eq(l.curPrizeIndex).text().split("/");e("#rebateValue").text(s[0]+'/'+s[5])}},checkMultiple:function(){var t=e("#multiple").val().replace(/^0|[^\d]/g,'');e("#multiple").val(t);return!(parseInt(t)>5e4)||(parent.layer.alert("请输入正确的倍数，最大为50000倍",{icon:7}),e("#multiple").val(5e4),!0)},confirmBtn_Click:function(t){var a={},i='';if(e("#projectList").children("li").each(function(t){e(this).children().eq(0).attr("mname");a[e(this).children().eq(0).attr("mid")]||(a[e(this).children().eq(0).attr("mid")]={}),a[e(this).children().eq(0).attr("mid")][t]=e(this).children().eq(1).text()}),e.each(a,function(t,a){i+=t+':',e.each(a,function(e,t){i+=t+'|'}),i=rtrim(i,'|'),i+='#'}),i=rtrim(i,'#'),!l.canBuy)return parent.layer.alert("该期已截止购买",{icon:7}),!1;if(0==i.length)return parent.layer.alert("请先选择号码再投注",{icon:7}),!1;e("#token").val(getRandChar(32));var n=1==l.curMode?"2元":.5==l.curMode?"1元":.1==l.curMode?"2角":.05==l.curMode?"1角":.01==l.curMode?"分":"厘",s=e("#totalBetAmount").text(),r=e("#totalBetCount").text(),o=e("#totalSingleInfo input").val();if(!/^[1-9]*[1-9][0-9]*$/.test(o))return parent.layer.alert("请输入正确的倍数，最大为50000倍",{icon:7}),e("#multiple").val("1"),!1;var c=0;if(0==t){var u='<div id="buy_message">请确认以下投注内容：<br>************************<br>单倍注数：'+r+"注<br>总 金 额：￥"+s+"<br>模&nbsp;&nbsp;式："+n+"模式<br>倍&nbsp;&nbsp;数："+o+"倍<br>************************<br></div>";parent.layer.confirm(u,{icon:7},function(t){if(parent.$('.xubox_botton').empty(),parent.$('.xubox_botton').html('<div class="LoadingShow"><span class="Loading_icon"></span><span class="Loading_Font">投注中，请稍后...</span></div>'),1==(c+=1)){e.post("?c=game&a=play",{op:"buy",lotteryId:l.lotteryId,issue:l.curIssueInfo.issue,curRebate:l.rebateGapList[l.curPrizeIndex].rebate,modes:l.curMode,codes:i,multiple:e("#totalSingleInfo input").val(),token:e("#token").val()},function(e){if(0==e.errno){y.todayBuyBtnNew_Click(),f.removeAll();var a='<div id="buy_success_message">购买成功!<br>************************<br>订单编号：'+e.pkgnum+"<br>投注期号："+l.curIssueInfo.issue+"<br>投注总额：￥"+s+"<br>模&nbsp;&nbsp;式："+n+"模式<br>倍&nbsp;&nbsp;数："+o+"倍<br>************************<br></div>";parent.layer.close(t),parent.layer.alert(a,{icon:1}),parent.$('.xubox_yes').focus(),parent.$('.xubox_yes').one('keyup',function(e){var t=e.keyCode?e.keyCode:e.which;32==t&&parent.$('.xubox_yes').trigger("click"),27==t&&parent.$('.xubox_no').trigger("click")})}else 65534==e.errno||(parent.layer.close(t),parent.layer.alert("购买失败:"+e.errstr,{icon:2}),console.log("错误代码:"+e.errno));PK10_showBalance()},"json").fail(function(e){parent.layer.close(t),parent.layer.alert("网络异常，请在“游戏记录-订单查询”中确认该订单是否提交成功。",{icon:2}),console.log(e)});var a=setInterval(function(){0==(c=0)&&clearInterval(a)},5e3)}})}else parent.$('.xubox_botton').empty(),parent.$('.xubox_botton').html('<div class="LoadingShow"><span class="Loading_icon"></span><span class="Loading_Font">投注中，请稍后...</span></div>'),e.post("?c=game&a=play",{op:"buy",lotteryId:l.lotteryId,issue:l.curIssueInfo.issue,curRebate:l.rebateGapList[l.curPrizeIndex].rebate,modes:l.curMode,codes:i,multiple:e("#totalSingleInfo input").val(),token:e("#token").val()},function(e){if(0==e.errno){y.todayBuyBtnNew_Click(),f.removeAll();var t='<div id="buy_success_message">购买成功!<br>************************<br>订单编号：'+e.pkgnum+"<br>投注期号："+l.curIssueInfo.issue+"<br>投注总额：￥"+s+"<br>模&nbsp;&nbsp;式："+n+"模式<br>倍&nbsp;&nbsp;数："+o+"倍<br>************************<br></div>";parent.layer.alert(t,{icon:1}),parent.$('.xubox_yes').focus(),parent.$('.xubox_yes').one('keyup',function(e){var t=e.keyCode?e.keyCode:e.which;32==t&&parent.$('.xubox_yes').trigger("click"),27==t&&parent.$('.xubox_no').trigger("click")})}else 65534==e.errno||(parent.layer.alert("购买失败:"+e.errstr,{icon:2}),console.log("错误代码:"+e.errno));PK10_showBalance()},"json").fail(function(e){parent.layer.alert("网络异常，请在“游戏记录-订单查询”中确认该订单是否提交成功。",{icon:2})});parent.$('.xubox_yes').focus(),parent.$('.xubox_yes').one('keyup',function(e){var t=e.keyCode?e.keyCode:e.which;32==t&&parent.$('.xubox_yes').trigger("click"),27==t&&parent.$('.xubox_no').trigger("click")})},traceBtn_Click:function(){if(e("#traceBtn").attr("mark",1),0==e("#projectList li").length)return parent.layer.alert("请先选择投注号码",{icon:7}),!1;e("#traceBtn").attr('disabled',"true");var t=[];e("#projectList li").each(function(a){-1==e.inArray(e(this).find("span:first").attr("mid"),t)&&t.push(e(this).find("span:first").attr("mid"))}),e.ajax({url:"?c=game&a=play",type:"POST",data:{op:"getTracePage",lotteryId:l.lotteryId,mids:t.join(",")},cache:!1,dataType:"json",timeout:3e4,success:function(a){if(e("#traceBtn").removeAttr("disabled"),0==a.errno){l.canTraceIssues=a.issues,l.traceMethodPrize=a.prize,l.tracePrizeLimit=a.prizeLimit;e('#traceHtml');var i=v.showTracePage(e('#traceHtml')),n=[250,251,360,368,28,56,101,202,298,34,57,102,203,304,4,52,106,193,274,5,53,107,194,275,81,108,109,195,351,42,75,115,219,312,43,76,116,220,313,38,71,120,214,308,39,72,121,215,309,82,110,122,216,352,86,93,126,228,356,87,94,127,229,357,88,95,128,230,358,47,78,141,222,317,235,236,386,25,155,173,189,24,154,172,188];0!=a.prize&&1==t.length&&-1==e.inArray(parseInt(l.curMethod.method_id),n)||e("#multipleStyle2").attr("disabled",!0),e("input[name=multipleStyle]").unbind("click").click(v.multipleStyle_Click),e("#confirmTraceBtn").unbind("click").click(function(){v.confirmTraceBtn_Click()&&parent.layer.close(i)}),e("#cancelTraceBtn").unbind("click").click(function(){v.cancelTraceBtn_Click(),parent.layer.close(i)}),e("#startIssue").unbind("change").change(v.startIssue_Change),e("#traceNum").unbind("click").click(function(){this.focus(),this.select()}).keyup(f.checkMultiple).keyup(v.traceNum_Keyup),e(".multipleNumDropdown").mouseover(function(){e(this).addClass('multipleNumDropdownSelected')}).mouseout(function(){e(this).removeClass('multipleNumDropdownSelected')}).unbind("click").click(function(){e(this).parent().find('.multipleNumValue').toggle()}),e(".multipleNumValue li").mousemove(function(){e(this).addClass('multipleNumValueSelected')}).mouseout(function(){e(this).removeClass('multipleNumValueSelected')}).unbind("click").click(function(){var t=e(this).parent().siblings('.zhuiz_number_e2');t.val(parseInt(e(this).text())),e.proxy(f.checkMultiple,t.get(0))(),'style1BodyMultiple'==t.attr('id')?(e('.style1BodyMultiple').val(t.val()).each(function(){e.proxy(v.style1BodyMultiple_Keyup,e(this).get(0))()}),v.updateTotalMoney()):'traceNum'==t.attr('id')&&e.proxy(v.traceNum_Keyup,t.get(0))(),e(this).parent().slideUp('fast')}),e('#style1BodyMultiple').unbind("click").click(function(){this.focus(),this.select()}).keyup(f.checkMultiple).keyup(function(){isNaN(parseInt(e(this).val()))&&e(this).val("1"),e('.style1BodyMultiple').val(e(this).val()).each(function(){e.proxy(v.style1BodyMultiple_Keyup,e(this).get(0))()}),v.updateTotalMoney()}),e('#checkAll').unbind("click").live('click',function(){e(this).is(':checked')?e('.checkbox input[type=checkbox]').attr('checked',!0).parent().parent().css('color',''):e('.checkbox input[type=checkbox]').attr('checked',!1).parent().parent().css('color','#ccc'),v.updateTotalMoney()}),e('.checkbox input[type=checkbox]').unbind("click").live('click',function(){if('checkAll'!=e(this).attr('id')){e(this).is(':checked')?e(this).parent().parent().css('color',''):e(this).parent().parent().css('color','#ccc');var t=e(this).parent().parent().index();e.proxy(v.style1BodyMultiple_Keyup,e('#style1BodyMultiple_'+t).get(0))(),v.updateTotalMoney()}}),e("#singleNum").text(e("#totalBetCount").text()),e("#issuesNum2").text("1"),e("#multipleStyle1").click(),v.updateTotalMoney(),null!=runTime.traceRemainTimer&&window.clearInterval(runTime.traceRemainTimer),runTime.traceRemainTimer=window.setInterval(v.traceRemain_Timer_Handle,1e3)}else alert("系统繁忙，请稍候再试(01)")},error:function(t,a,i){e("#traceBtn").removeAttr("disabled"),-1!=i.indexOf("a=logout")||-1!=i.indexOf("a=login")?(alert("您已经退出，请重新登录"),window.location.href="?a=logout"):alert("操作超时，请刷新页面.")}})},selectRandom:function(){var t,a,n=propLen(l.curMethod.field_def),s=[];for(i=1;i<=n;i++){t=parseInt(l.curMethod.field_def[i].max_selected),a=Math.floor(Math.random()*t);var r=l.curMethod.field_def[i].nums.split(" ")[a];s.push(r)}var o=b(s),c=s.join(",");if(0==o.singleNum)return!1;l.nextProjectCounter++;var u=number_format(2*o.singleNum*l.curMode,3);e('<li><span class="width1" mid="'+l.curMethod.method_id+'">'+l.curMethod.cname+'</span><span class="width2">'+c+'</span><span class="width3">'+o.singleNum+'注</span><span class="width4">￥'+u+'</span><span class="xDel">X</span></li>').appendTo("#projectList"),f.updateTotalSingle()},selectRandomBtn_Click:function(){e(this).attr('disabled','true');var t,a=e(this).attr('num');for(t=1;t<=a;t++)f.selectRandom();e(this).removeAttr('disabled')}},v={multipleStyle_Click:function(){e("#startIssue").get(0).selectedIndex=0,e("#traceNum").val(1),e("#style1BodyMultiple").val(1),1==e(this).val()?(e(".style1BodyMultiple").live("click",function(){this.focus(),this.select()}).live("keyup",f.checkMultiple).live("keyup",v.style1BodyMultiple_Keyup),v.updateStyle1(),e(".multipleNum").eq(0).show(),e("#multipleStyle1DIV").show(),e("#multipleStyle2DIV").hide()):(e("#startMultiple").click(function(){this.focus(),this.select()}),e("#beitouToolSmainbtzk input").click(function(){e(this).parent().click()}).focus(function(){this.select()}),e("#beitouToolSmainbtzk li").click(function(){e(this).addClass("checked").siblings().removeClass("checked"),e(this).find("input[name=profitStyle]").attr("checked",!0)}),e(".multipleNum").eq(0).hide(),e("#generalPlanBtn").click(v.generalPlanBtn_Click),e("#issuesNum2").text("1"),e("#traceTotalAmount").text(number_format(2*parseInt(e("#singleNum").text())*l.curMode,3)),e("#style2Body").empty(),e("#startMultiple").val("1"),e("input[name=totalProfitRate]").val("10"),e("input[name=first5Rate]").val("5"),e("input[name=first5RateValue]").val("10"),e("input[name=laterRateValue]").val("5"),e("input[name=totalProfit]").val("100"),e("input[name=first5Profit]").val("5"),e("input[name=first5ProfitValue]").val("100"),e("input[name=laterProfitValue]").val("50"),e("#beitouToolSmainbtzk li:first").click(),e("#multipleStyle1DIV").hide(),e("#multipleStyle2DIV").show())},startIssue_Change:function(){"1"==e("input[name=multipleStyle]:checked").val()?v.updateStyle1():v.generalPlanBtn_Click()},traceNum_Keyup:function(){"1"==e("input[name=multipleStyle]:checked").val()&&v.updateStyle1()},traceRemain_Timer_Handle:function(){var t=n(l.curRemainTime);if(l.curRemainTime>0)e("#remainTimerLabel").text(t.hour+":"+t.minute+":"+t.second),e("#traceBtn").attr("mark",0);else{clearInterval(runTime.traceRemainTimer);var a=n(l.curWaitOpenTime);if(e("#remainTimerLabel").text(a.hour+":"+a.minute+":"+a.second),runTime.traceWaitOpenTimer=window.setInterval(v.traceWaitOpen_Timer_Handle,100),parent.layer.alert("第"+l.curIssueInfo.issue+"期投注时间已结束，投注内容将进入到下一期！",{icon:7}),1!=e("#traceBtn").attr("mark"))if(e("#startIssue").children(":first").remove(),e("#startIssue").children(":first").text(e("#startIssue").children(":first").text()+"(当前期)"),"1"==e("input[name=multipleStyle]:checked").val()){var i=[];e(".style1BodyMultiple").each(function(){i.push(this.value)}),v.updateStyle1(),e(".style1BodyMultiple").each(function(){this.value=i.pop()})}else e("#style2Body li").length>0&&v.generalPlanBtn_Click()}},traceWaitOpen_Timer_Handle:function(){var t=n(l.curWaitOpenTime);e("#remainTimerLabel").text(t.hour+":"+t.minute+":"+t.second),l.curWaitOpenTime<0&&(clearInterval(runTime.traceWaitOpenTimer),runTime.traceRemainTimer=window.setInterval(v.traceRemain_Timer_Handle,1e3))},style1BodyMultiple_Keyup:function(){var t=parseInt(e(this).val());(isNaN(t)||t<1||t>99999)&&(t=1),/\w+_(\d+)/.test(e(this).attr("id"));var a=RegExp.$1;if(0==a)s=0;else{for(var i,n=a-1;n>=0;n--)if(e('#check_'+n).is(':checked')){i=n;break}var s=parseFloat(e("#totalMoney_"+i).text())}e("#style1BodyMultiple_"+a).val(t);var r=parseInt(e("#singleNum").text())*t*2*l.curMode;for(e("#curMoney_"+a).text(number_format(r,3));a<=e("#style1Body li").length;)e('#check_'+a).is(':checked')&&(s+=parseFloat(e("#curMoney_"+a).text()),e("#totalMoney_"+a).text(number_format(s,3))),a++;v.updateTotalMoney()},updateStyle1:function(){var t=-1;if(e.each(l.canTraceIssues,function(a,i){i==e("#startIssue").val()&&(t=a)}),-1!=t){isNaN(parseInt(e("#traceNum").val()))&&e("#traceNum").val("1"),e('#style1BodyMultiple').val("1");var a=l.canTraceIssues.slice(t,t+parseInt(e("#traceNum").val()));a.length<e("#traceNum").val()&&(parent.layer.alert("最多只能追"+a.length+"期",{icon:7}),e("#traceNum").val(a.length)),e("#style1Body").empty();var i,n=0;e('#checkAll').attr('checked',!0),e.each(a,function(t,a){i=2*parseInt(e("#singleNum").text())*l.curMode,n+=i;var s='<li id="traceIssueLI_'+t+'"><span class="checkbox"><input type="checkbox" id="check_'+t+'" checked /></span><span id="traceIssue_'+t+'">'+a+'</span><span><input type="text" value="1" id="style1BodyMultiple_'+t+'" class="beitouToolsinput style1BodyMultiple" maxlength="5" /></span><span id=curMoney_'+t+">"+number_format(i,3)+"</span><span id=totalMoney_"+t+">"+number_format(n,3)+"</span></li>";e("#style1Body").append(s),e(".style1BodyMultiple").bind("click",function(){this.focus(),this.select()}).bind("keyup",f.checkMultiple).bind("keyup",v.style1BodyMultiple_Keyup)}),v.updateTotalMoney()}},confirmTraceBtn_Click:function(){var t,a,i,n,s,r;if(e("#projectList").children("li").each(function(l){t=e(this).children(),n=t.eq(0).attr("mid"),s=t.eq(1).text(),r=!1,i||(i=n,a=n+":",r=!0),i!=n?(a+="#"+n+":",i=n,a+=s):a+=1==r?s:"|"+s}),!l.canBuy)return parent.layer.alert("该期已截止购买",{icon:7}),!1;if(0==a.length)return parent.layer.alert("请先选择号码再投注",{icon:7}),!1;var o=[];if("1"==e("input[name=multipleStyle]:checked").val()?e("#style1Body li").each(function(t){if(e(this).find("input[type=checkbox]").is(':checked')){var a=e(this).find("span:eq(1)").text(),i=e(this).find("input[type=text]").val();o.push({issue:a,multiple:i})}}):e("#style2Body li").each(function(t){var a=e(this).find("span:eq(0)").text(),i=e(this).find("span:eq(1)").text();o.push({issue:a,multiple:i})}),!o||o.length<=0)return parent.layer.alert("追号的期数不能为空",{icon:7}),!1;e("#token").val(getRandChar(32));var c=1==l.curMode?"2元":.5==l.curMode?"1元":.1==l.curMode?"2角":.05==l.curMode?"1角":.01==l.curMode?"分":"厘",u=e("#traceTotalAmount").text(),d=e("input[name=stopOnWin]").attr("checked")?1:0,p='<div id="buy_message">请确认以下投注内容：<br>************************<br>是否追号：是<br>单倍注数：'+e("#totalBetCount").text()+"注<br>总 金 额：￥"+u+"<br>超始期号："+o[0].issue+"<br>追号期数："+o.length+"<br>模&nbsp;&nbsp;式："+c+"模式<br>************************<br></div>";return v.destroyTracePage(),parent.layer.confirm(p,{icon:7},function(t){e.post("?c=game&a=play",{op:"buy",lotteryId:l.lotteryId,issue:l.curIssueInfo.issue,curRebate:l.rebateGapList[l.curPrizeIndex].rebate,modes:l.curMode,codes:a,traceData:o,stopOnWin:d,token:e("#token").val()},function(e){if(0==e.errno){f.removeAll(),y.todayBuyBtnNew_Click();var a='<div id="buy_success_message">追号订单成功!<br>************************<br>订单编号：'+e.pkgnum+"<br>起始期号："+o[0].issue+"<br>追号期数："+o.length+"<br>追号总额：￥"+u+"<br>模&nbsp;&nbsp;式："+c+"模式<br>************************<br></div>";parent.layer.close(t),parent.layer.alert(a,{icon:1}),parent.$('.xubox_yes').focus(),parent.$('.xubox_yes').one('keyup',function(e){var t=e.keyCode?e.keyCode:e.which;32==t&&parent.$('.xubox_yes').trigger("click"),27==t&&parent.$('.xubox_no').trigger("click")})}else parent.layer.close(t),parent.layer.alert("追号失败:"+e.errstr+e.errno,{icon:2})},"json").fail(function(e){parent.layer.close(t),layer.alert("网络异常，请在“游戏记录-追号记录”中确认该订单是否提交成功。",{icon:2})}),parent.$('.xubox_botton').empty(),parent.$('.xubox_botton').html('<div class="LoadingShow"><span class="Loading_icon"></span><span class="Loading_Font">投注中，请稍后...</span></div>')}),parent.$('.xubox_yes').focus(),parent.$('.xubox_yes').one('keyup',function(e){var t=e.keyCode?e.keyCode:e.which;32==t&&parent.$('.xubox_yes').trigger("click"),27==t&&parent.$('.xubox_no').trigger("click")}),!0},cancelTraceBtn_Click:function(){v.destroyTracePage()},showTracePage:function(t){var a=parent.layer.open({type:1,title:'追号管理',offset:['50px',''],area:['700px','auto'],content:t,success:function(t){var a='';e.each(l.canTraceIssues,function(e,t){a+='<option value="'+t+'">'+t+'期</option>'}),e("#startIssue").html(a).children(":first").text(e("#startIssue").children(":first").text()+"(当前期)"),e('#maxTraceCount').html(l.canTraceIssues.length)},close:v.cancelTraceBtn_Click});return e(document).one('keyup',function(e){27==(e.keyCode?e.keyCode:e.which)&&(v.cancelTraceBtn_Click(),parent.layer.close(a))}),a},destroyTracePage:function(){clearInterval(runTime.traceRemainTimer),clearInterval(runTime.traceWaitOpenTimer)},updateTotalMoney:function(){var t=0;"1"==e("input[name=multipleStyle]:checked").val()?(e("#style1Body li").each(function(a){e(this).find("input[type=checkbox]").is(':checked')&&(t+=parseInt(e(this).find("input[type=text]").val()))}),e("#issuesNum2").text(e("#style1Body li input[type=checkbox]:checked").length)):(e("#style2Body li").each(function(a){t+=parseInt(e(this).find("span:eq(1)").text())}),e("#issuesNum2").text(e("#style2Body li").length)),e("#traceTotalAmount").text(number_format(parseInt(e("#singleNum").text())*t*2*l.curMode,3))},generalPlanBtn_Click:function(){var t=function(e,t,a,i,n){if(e=isNaN(parseInt(e))?-1:parseInt(e),t=isNaN(parseInt(t))?-1:parseInt(t),a=isNaN(parseFloat(a))?-1:parseFloat(a),i=isNaN(parseFloat(i))?-1:parseFloat(i),n=parseFloat(n),e<0||t<0||a<0||i<0||n<=0)return 0;var s=0;return a>0&&(t>0?(s=(t/100+1)*i/(n-a*(t/100+1)),s=Math.ceil(round(s,3))):s=1,s>0&&s<e&&(s=e)),s},a=-1;if(e.each(l.canTraceIssues,function(t,i){i==e("#startIssue").val()&&(a=t)}),-1==a)throw alert("数据出错"),"数据出错";isNaN(parseInt(e("#traceNum").val()))&&e("#traceNum").val("1");var i=l.canTraceIssues.slice(a,a+parseInt(e("#traceNum").val()));i.length<e("#traceNum").val()&&(parent.layer.alert("最多只能追"+i.length+"期",{icon:7}),e("#traceNum").val(i.length)),e("#style2Body").empty();var n,s,r=[],o=0,c=2*parseInt(e("#singleNum").text())*l.curMode,u=l.traceMethodPrize*(l.rebateGapList[l.curPrizeIndex].prize/(l.maxCombPrize*l.prizeRate))*l.curMode;e.each(i,function(a,i){if(1==e("input[name=profitStyle]:checked").val())if(0==a){if(n=parseInt(e("#startMultiple").val()),s=n*parseInt(e("#singleNum").text())*2*l.curMode,(n*u-s)/s*100<e("input[name=totalProfitRate]").val())return parent.layer.alert("该计划无法实现，请调整目标",{icon:7}),!1}else n=t(e("#startMultiple").val(),e("input[name=totalProfitRate]").val(),c,o,u);else if(2==e("input[name=profitStyle]:checked").val())if(0==a){if(n=parseInt(e("#startMultiple").val()),s=n*parseInt(e("#singleNum").text())*2*l.curMode,(n*u-s)/s*100<e("input[name=first5RateValue]").val())return parent.layer.alert("该计划无法实现，请调整目标",{icon:7}),!1}else n=a<e("input[name=first5Rate]").val()?t(e("#startMultiple").val(),e("input[name=first5RateValue]").val(),c,o,u):t(e("#startMultiple").val(),e("input[name=laterRateValue]").val(),c,o,u);else 3==e("input[name=profitStyle]:checked").val()?(n=Math.ceil(round((parseInt(e("input[name=totalProfit]").val())+o)/(u-2*parseInt(e("#singleNum").text())*l.curMode),3)))<e("#startMultiple").val()&&(n=e("#startMultiple").val()):4==e("input[name=profitStyle]:checked").val()&&(n=a<e("input[name=first5Profit]").val()?Math.ceil(round((parseInt(e("input[name=first5ProfitValue]").val())+o)/(u-2*parseInt(e("#singleNum").text())*l.curMode),3)):Math.ceil(round((parseInt(e("input[name=laterProfitValue]").val())+o)/(u-2*parseInt(e("#singleNum").text())*l.curMode),3)));return 0==n?(parent.layer.alert("您输入的参数有误，必须为正整数",{icon:7}),!1):n<0?(parent.layer.alert("该计划不可能实现，请调整目标",{icon:7}),!1):n*u>l.tracePrizeLimit?(parent.layer.alert("该计划超出无法实现，请调整目标",{icon:7}),!1):(s=n*parseInt(e("#singleNum").text())*2*l.curMode,o+=s,void r.push({issue:i,multiple:n,curMoney:number_format(s,2),totalMoney:number_format(o,2),curPrize:number_format(n*u,2),totalProfit:number_format(n*u-o,2),totalProfitRate:round((n*u-o)/o,2)}))}),v._showPlan(r)},_showPlan:function(t){e.each(t,function(t,a){var i='<li><span class="spanWidth90px">'+a.issue+'</span><span class="spanWidth50px">'+a.multiple+'</span><span class="spanWidth70px">'+a.curMoney+'</span><span class="spanWidth70px">'+a.totalMoney+'</span><span class="spanWidth70px">'+a.curPrize+'</span><span class="spanWidth70px">'+a.totalProfit+'</span><span class="spanWidth70px">'+Math.round(100*a.totalProfitRate)+"%</span></li>";e("#style2Body").append(i)}),v.updateTotalMoney()}},y={init:function(){if(runTime.remainTimer=window.setInterval(y.showCurIssue_Timer,1e3),""==l.lastIssueInfo.code)l.getLastOpenTime=0,clearInterval(runTime.getLastOpenTimer),runTime.getLastOpenTimer=window.setInterval(y.getLastOpen_Timer,1e3),e("#thisIssueInfo").addClass("lock"),l.canBuy=!1,e("#thisIssueSpan").text(l.lastIssueInfo.issue);else{var t=l.todayDrawList[0];if(l.lastIssueInfo.issue!=t.issue){var a=l.lastIssueInfo,i=y.getMoreInfo(a.code);if(a.prop=i,l.todayDrawList.unshift(a),e("#todayDrawBtn").hasClass("cur"))l.todayDrawList[0]}}var n;null!=l.todayDrawList[0].code&&(n=l.todayDrawList[0].code.split(" ")),e('#thisIssueNumUL').empty();var s=1;null!=n&&e.each(n,function(t,a){e('#thisIssueNumUL').append('<span class="pendingBall"></span>'),e('#thisIssueNumUL').children().addClass("win"+s++)}),e("#endNums span.openNum").remove(),e('#thisIssueNumUL').children().append('<i></i>'),y.showLastDraw(),l.canBuy=!0},getCurIssue:function(t){e.ajax({url:"?c=game&a=play",type:"POST",data:{op:"getCurIssue",lotteryId:l.lotteryId},cache:!1,dataType:"json",timeout:3e4,success:function(i){if(0==i.errno)if(0!=i.kTime){e('.clearProjectBtn').attr("disabled","disabled"),e('.clearProjectBtn').css("background","#ccc"),e('.selectCodeBtn').css("background","#ccc"),e('.selectCodeBtn').attr("disabled","disabled"),e('#confirmBtn').attr("disabled","disabled"),e('#confirmBtn').css("background","#ccc"),e('#traceBtn').css("background","#ccc"),e('#traceBtn').attr("disabled","disabled"),e('#lastIssueSpan').text('**');var s=i.kTime/1e3;e('.Timer').find('i').html("<span>距离下次开市:<span>"),window.setInterval(function(){var t=n(--s),a="<div style='font-size: 18px;'><span>"+t.hour+"</span><em>:</em><span>"+t.minute+"</span><em>:</em><span>"+t.second+"</span></div>";e('#thisIssueRemainTime').html(a)},1e3),e('#thisIssueTimerIcon').html('<span style="font-size: 18px;">休市中...</span>'),e('#thisIssueTimerIcon').next().css('display','none'),window.setTimeout(function(){clearInterval(runTime.waitOpenTimer),window.location.reload()},i.kTime)}else l.curIssueInfo=i.issueInfo,l.curServerTime=i.serverTime,l.curRemainTime=getTS(l.curIssueInfo.end_time)-getTS(l.curServerTime),l.curWaitOpenTime=8,l.lastIssueInfo=i.lastIssueInfo,i.lastIssueInfo&&l.counters>0&&a(i.lastIssueInfo),"function"==typeof t&&t();else alert("系统繁忙，请稍候再试(02)")},error:function(e,t,a){-1!=a.indexOf("a=logout")||-1!=a.indexOf("a=login")?(top.layer.alert("您已经超时退出，请重新登录",{icon:7}),window.location.href="?a=logout"):top.layer.alert("操作超时，请刷新页面..",{icon:7})}})},showCurIssue_Timer:function(){e("#thisIssueSpan").text(l.curIssueInfo.issue),e("#thisIssueSpan2").text(l.curIssueInfo.issue);var t=n(--l.curRemainTime);if(l.curRemainTime>=0)e("#thisIssueRemainTime").html("<span>"+t.hour+"</span><em>:</em><span>"+t.minute+"</span><em>:</em><span>"+t.second+"</span>"),e("#thisIssueTimerIcon").removeClass("lock").addClass('clock').text("可以投注"),e('#selectCodeBtn').attr("disabled",!1),e('#selectCodeBtn').css("background","#ff9819"),e('#traceBtn').attr("disabled",!1),e('#traceBtn').css('background','#ff9819'),e('#confirmBtn').attr("disabled",!1),e('#confirmBtn').css('background','rgba(80,155,255,1)'),e('#selectCodeBtnFast').attr("disabled",!1),e('#selectCodeBtnFast').css('background','#ff9819'),e('#clearProjectBtn').attr("disabled",!1),e('#clearProjectBtn').css("background","#b28850");else{clearInterval(runTime.remainTimer),layer.alert(l.curIssueInfo.issue+'期销售已封盘....，请进入下一期购买',{icon:7,time:3e3}),e('#thisIssueTimerIcon').removeClass('clock').addClass('lock').text("封盘中....."),e('#selectCodeBtn').attr("disabled",!0),e('#selectCodeBtn').css("background","#ccc"),e('#traceBtn').attr("disabled",!0),e('#traceBtn').css("background","#ccc"),e('#confirmBtn').attr("disabled",!0),e('#confirmBtn').css("background","#ccc"),e('#selectCodeBtnFast').attr("disabled",!0),e('#selectCodeBtnFast').css("background","#ccc"),e('#clearProjectBtn').attr("disabled",!0),e('#clearProjectBtn').css("background","#ccc"),e('#thisIssueTimerIcon').removeClass('clock').addClass('lock').text("已截止投注");var a=n(l.curWaitOpenTime);e('#thisIssueRemainTime').html("<span>"+a.hour+"</span><em>:</em><span>"+a.minute+"</span><em>:</em><span>"+a.second+"</span>"),l.canBuy=!1,runTime.waitOpenTimer=window.setInterval(y.waitOpen_Timer,1e3)}},waitOpen_Timer:function(){--l.curWaitOpenTime;var t=n(l.curWaitOpenTime);e("#thisIssueRemainTime").html("<span>"+t.hour+"</span><em>:</em><span>"+t.minute+"</span><em>:</em><span>"+t.second+"</span>"),l.curWaitOpenTime<0&&(clearInterval(runTime.waitOpenTimer),y.getCurIssue(y.init))},getLastOpen_Timer:function(){l.getLastOpenTime++,l.getLastOpenTime%10==0&&e.ajax({url:"?c=game&a=play",type:"POST",data:{op:"getLastIssueCode",lotteryId:l.lotteryId,issue:l.lastIssueInfo.issue},cache:!1,dataType:"json",timeout:3e4,success:function(t){if(0==t.errno){if(0!=t.kTime)clearInterval(runTime.waitOpenTimer),window.location.reload();else if(void 0!==t.issueInfo.code){clearInterval(runTime.getLastOpenTimer),l.getLastOpenTime=0,l.lastIssueInfo=t.issueInfo;var a=y.getMoreInfo(t.issueInfo.code);if(t.issueInfo.prop=a,l.todayDrawList.unshift(t.issueInfo),e("#todayDrawBtn").hasClass("cur")){var i=l.todayDrawList[0];i.code;for(var n="",s=0;s<i.code.length;s++)"<b>"+i.code[s]+"</b>",n+=i.code[s];var r=n.split(" ").join("</b><b>"),o='<ul class="fix"><li style="width:30%">'+i.issue+'</li><li style="width:70%"><b>'+r+"</b></li>";e("#todayIssuesBody").prepend(o)}y.showLastDraw()}}else alert("系统繁忙，请稍候再试(03)")},error:function(e,t,a){-1!=a.indexOf("a=logout")||-1!=a.indexOf("a=login")?(top.layer.alert("您已经超时退出，请重新登录",{icon:7}),window.location.href="?a=logout"):top.layer.alert("操作超时，请刷新页面...",{icon:7})}})},showLastDraw:function(){var t=l.todayDrawList[0];e("#lastIssueSpan").text(l.lastIssueInfo.issue);var a;if(l.lastIssueInfo.issue==t.issue){var i=t.code.split(" ");a="<ul><li>第一位：<span>"+i[0]+"</span></li><li>第二位：<span>"+i[0]+","+i[1]+"</span></li></ul><ul><li>第三位：<span>"+i[0]+","+i[1]+","+i[2]+"</span></li></ul>";var n=0;y.todayBuyBtnNew_Click();window.setTimeout(function t(){if(e("#thisIssueNumUL").children(".pendingBall").length>0){var a;switch(i[n].toString()){case'01':a='st1';break;case'02':a='st2';break;case'03':a='st3';break;case'04':a='st4';break;case'05':a='st5';break;case'06':a='st6';break;case'07':a='st7';break;case'08':a='st8';break;case'09':a='st9';break;case'10':a='st10'}var s=e("#thisIssueNumUL").children(".pendingBall").first();window.setTimeout(function(){s.removeClass("pendingBall").addClass(a).children().append(i[n++]),t(),e('#endNums').append('<span class="'+a+'"></span>')},500)}''!=e("#thisIssueNumUL").children().last().text()&&window.setTimeout(function(){e("#endNums span").addClass('openNum')},500)},100)}else e("#thisIssueNumUL").children().addClass("pendingBall").removeClass("sd115_Ball"),a="<ul><li>第一位：<span></span></li><li>第二位：<span></span></li><li>第三位：<span></span></li></ul>";e("#thisIssueMoreInfo").html(a)},todayDrawBtn_Click:function(){e("#rightBoxSrt").show(),e("#todayBuyBody").empty().hide(),e("#todayIssuesBody").empty(),e.each(l.todayDrawList,function(t,a){for(var i="",n=0;n<a.code.length;n++)"<b>"+a.code[n]+"</b>",i+=a.code[n];var s=i.split(" ").join("</b><b>"),l='<ul class="fix"><li style="width:30%">'+a.issue+'</li><li style="width:70%"><b>'+s+"</b></li>";e("#todayIssuesBody").append(l)})},todayBuyBtnNew_Click:function(){e("#todayIssuesBody").find("li:first").text()!=l.curIssueInfo.issue&&e.post("?c=game&a=play",{op:"getBuyRecords",lotteryId:l.lotteryId},function(t){e("#todayBuyBtn").addClass('cur').parent().siblings().children().removeClass('cur'),e("#todayBuyBody").empty().show(),e("#rightBoxSrt").hide(),0==t.errno?(e("#todayBuyBody").empty(),e('<ul class="title fix"><li class="C1">玩法</li><li class="C2">期号</li><li class="C3">倍</li><li class="C4">金额</li><li class="C5">状态</li></ul>').appendTo("#todayBuyBody"),0==t.prj.length?e('<div class="todayNoBet">暂时没有记录！</div>').appendTo("#todayBuyBody"):e.each(t.prj,function(t,a){e('<ul class="mid fix"><li class="C1"><a href="?c=game&a=packageDetail&wrap_id='+a.wrapId+'" onclick="showPackageDetail(\''+a.wrapId+'\');return false;">'+a.methodName+'</a></li><li class="C2">'+r.getNumByIssue(a.issue)+'</li><li class="C3">'+a.multiple+'</li><li class="C4">'+a.amount+'</li><li class="C5">'+a.prizeStatus+"</li></ul>").click(function(){}).appendTo("#todayBuyBody")})):alert("系统繁忙，请稍候再试(04)")},"json")},getMoreInfo:function(e){var t={};if(1==l.lotteryType||4==l.lotteryType){var a=e.split("");t.qshz=parseInt(a[0])+parseInt(a[1])+parseInt(a[2]),t.qszt=y.zutai(a[0],a[1],a[2]),t.hshz=parseInt(a[2])+parseInt(a[3])+parseInt(a[4]),t.hszt=y.zutai(a[2],a[3],a[4]),t.hehz=parseInt(a[3])+parseInt(a[4]),t.dxds=y.dxds(a[3],a[4])}return t},zutai:function(e,t,a){return e==t&&e==a&&t==a?"豹子":e==t||e==a||t==a?"组三":"组六"},dxds:function(e,t){var a=[],i=[];return a.push(e>=5?"大":"小"),a.push(e%2==1?"单":"双"),i.push(t>=5?"大":"小"),i.push(t%2==1?"单":"双"),[a[0]+i[0],a[0]+i[1],a[1]+i[0],a[1]+i[1]].join(",")}};if(!function(){var a=0;return void 0==t.lotteryId||!is_numeric(t.lotteryId)||t.lotteryId<=0?a=-1:void 0==t.lotteryName||''==t.lotteryName?a=-2:void 0!=t.lotteryType&&is_numeric(t.lotteryType)&&-1!=e.inArray(t.lotteryType,[1,2,4,5,6,7,8])?void 0!=t.methods&&e.isArray(t.methods)&&0!=t.methods.length?void 0!=t.openedIssues&&e.isArray(t.openedIssues)&&0!=t.openedIssues.length?void 0!=t.minRebateGaps&&e.isArray(t.minRebateGaps)&&0!=t.minRebateGaps.length?void 0==t.rebate||!is_numeric(t.rebate)||t.rebate<0||t.rebate>.15?a=-7:void 0!=t.defaultMode&&is_numeric(t.defaultMode)&&-1!=!e.inArray(t.defaultMode,[1,.5,.1,.05,.01,.001])?void 0==t.defaultRebate||!is_numeric(t.defaultRebate)||t.defaultRebate<0||t.defaultRebate>t.rebate?a=-9:(void 0==t.maxCombPrize||!is_numeric(t.maxCombPrize)||t.maxCombPrize<=0)&&(a=-10):a=-8:a=-6:a=-5:a=-4:a=-3,a<0&&console.info('参数错误：flag='+a),0==a}())return parent.layer.alert("数据初始化失败",{icon:2}),!1;l.rebateGapList=u.generateGapList(),0==l.rebateGapList.length&&l.halt("initPrizeBar failed"),l.curPrizeIndex=l.rebateGapList.length-1,u.showPirze(),e('#curPrizeSpan').change(u.changePrize),function(){var t=1,a=parseFloat(getCookie("mod_"+l.lotteryId));switch(e.each([1,.5,.1,.05,.01,.001],function(e,i){i==a&&(t=i)}),l.curMode=t,e("#yuan").click(function(){e("#yuan").removeClass().addClass("yuan"),e("#jiao").removeClass(),e("#fen").removeClass(),e("#yuanYi").removeClass(),e("#jiaoYi").removeClass(),e("#li").removeClass(),e("#modesDIV").val(1),c.modesBtn_Click()}),e("#jiao").click(function(){e("#jiao").removeClass().addClass("jiao"),e("#yuan").removeClass(),e("#fen").removeClass(),e("#yuanYi").removeClass(),e("#jiaoYi").removeClass(),e("#li").removeClass(),e("#modesDIV").val(.1),c.modesBtn_Click()}),e("#fen").click(function(){e("#fen").removeClass().addClass("fen"),e("#jiao").removeClass(),e("#yuan").removeClass(),e("#yuanYi").removeClass(),e("#jiaoYi").removeClass(),e("#li").removeClass(),e("#modesDIV").val(.01),c.modesBtn_Click()}),e("#yuanYi").click(function(){e("#yuanYi").removeClass().addClass("yuanYi"),e("#jiao").removeClass(),e("#yuan").removeClass(),e("#fen").removeClass(),e("#jiaoYi").removeClass(),e("#li").removeClass(),e("#modesDIV").val(.5),c.modesBtn_Click()}),e("#jiaoYi").click(function(){e("#jiaoYi").removeClass().addClass("jiaoYi"),e("#jiao").removeClass(),e("#yuan").removeClass(),e("#yuanYi").removeClass(),e("#fen").removeClass(),e("#li").removeClass(),e("#modesDIV").val(.05),c.modesBtn_Click()}),e("#li").click(function(){e("#li").removeClass().addClass("li"),e("#fen").removeClass(),e("#jiao").removeClass(),e("#yuan").removeClass(),e("#yuanYi").removeClass(),e("#jiaoYi").removeClass(),e("#modesDIV").val(.001),c.modesBtn_Click()}),l.curMode){case 1:e("#yuan").click();break;case.5:e("#yuanYi").click();break;case.1:e("#jiao").click();break;case.05:e("#jiaoYi").click();break;case.01:e("#fen").click();break;case.001:e("#li").click()}}(),e.each(l.methods,function(t,a){1==a.childs.length?e('<li class="methodGroupLI" id="methodGroup_'+t+'"><label>'+a.mg_name+"</label></li>").click(d.methodGroup_Click).appendTo("#methodGroupContainer"):e('<li class="methodGroupLI" id="methodGroup_'+t+'"><label>'+a.mg_name+"</label></li>").click(d.methodGroup_Click).hover(d.methodGroup_hoverOver,d.methodGroup_hoverOut).appendTo("#methodGroupContainer");var i=e('<ul id="method_'+t+'"></ul>').addClass('methodPopStyle').hide();e.each(a.childs,function(a,n){e('<li class="method" name="'+n.name+'" id="method_'+t+"_"+a+'">'+n.cname+"</li>").bind("click",n,d.method_Click).hover(d.method_hoverOver,d.method_hoverOut).appendTo(i)}),e("#methodGroup_"+t).append(i)}),e(".subTopBar").mouseleave(function(){e(this).find("ul").removeClass("methodGroup_hover"),e(this).find("ul li>ul").hide()}),d.selectDefault(),e("input[name=missHotBtn]").click(m.missHotBtn_Click),e("input[name=missHotBtn][value='1']").click(),l.nextProjectCounter=0,f.removeAll(),e("#multiple").click(function(){this.focus(),this.select()}).blur(function(){''!=this.value&&0!=this.value||(this.value=1)}).keyup(f.checkMultiple).keyup(f.updateTotalSingle),e(".xDel").live("click",function(){e(this).parent().remove(),f.updateTotalSingle()}),e("#clearProjectBtn").click(f.removeAll),e("#inputBtn").click(f.inputBtn_Click),e("#selectCodeBtn").click(f.selectCodeBtn_Click),e("#selectCodeBtnFast").click(f.selectCodeBtnFast),e("#confirmBtn").click(function(){f.confirmBtn_Click(0)}),e("#traceBtn").click(f.traceBtn_Click),e(".selectRandomBtn").click(f.selectRandomBtn_Click),e("#plusBtn").click(f.plusBtn_Click),e("#minusBtn").click(f.minusBtn_Click),e("#curLotteryName").text(l.lotteryName),e("#curLotteryName2").text(l.lotteryName),e("#todayDrawBtn").click(y.todayDrawBtn_Click),e("#todayBuyBtn").click(y.todayBuyBtnNew_Click),e.each(l.openedIssues,function(e,t){t.prop=y.getMoreInfo(t.code),l.todayDrawList.push(t)}),e("#todayDrawBtn").click(),y.getCurIssue(y.init);var b=function(t){if(0==s(t).charsNum)return{singleNum:0,isDup:0};var a,i=0,n=0;switch(l.curMethod.name){case'PKS-DXDS':i=t[0].length,n=0;break;case'PKS-GYHZ':case'PKS-CGJ':if(1!==t.length)return{singleNum:0,isDup:0};o=t[0].split('_');n=(i=o.length)>1?1:0;break;case'PKS-DWD':case'PKS-DWDH5':e.each(t,function(e,t){''!=t&&(a=t.split('_'),i+=a.length)}),n=i>5?1:0;break;case'PKS-CQS':if(3!==t.length)return{singleNum:0,isDup:0};o=r.expandLotto(t);n=(i=o.length)>1?1:0;break;case'PKS-CQE':if(2!==t.length)return{singleNum:0,isDup:0};var o=r.expandLotto(t);n=(i=o.length)>1?1:0;break;case'PKS-OT':case'PKS-TN':case'PKS-TE':case'PKS-FS':case'PKS-FSIX':if(1!==t.length||'龙'!==t[0]&&'虎'!==t[0])return{singleNum:0,isDup:0};n=i=1;break;case'PKS-GYDXDS':case'PKS-Q5LM':case'PKS-H5LM':i=0,t.forEach(function(e){i+=e.length});break;default:throw"unknown method2 "+l.curMethod.name}return{singleNum:i,isDup:n}}}}(jQuery);