if("object"!=typeof console)var console={info:function(e){window.status=e}};var runTime={remainTimer:0,waitOpenTimer:0,getLastOpenTimer:0,scollTopIntervalTimer:0,traceRemainTimer:0,traceWaitOpenTimer:0,buyTodayTimer:0,clearAll:function(){clearInterval(runTime.remainTimer),clearInterval(runTime.waitOpenTimer),clearInterval(runTime.getLastOpenTimer),clearInterval(runTime.scollTopIntervalTimer),clearInterval(runTime.traceRemainTimeball_Selectedr),clearInterval(runTime.traceWaitOpenTimer),clearInterval(runTime.buyTodayTimer)}};!function(e){e.init=function(t){function a(t){if(t.code){for(var a="",l=0;l<t.code.length;l++)"<b>"+t.code[l]+"</b>",a+=t.code[l];e("#todayIssuesBody").prepend('<ul class="fix"><li>'+t.issue+'</li><li><b>'+a.split(' ').join('</b><b>')+'</b></li></ul>')}}function l(e){var t=e>0?{day:Math.floor(e/86400),hour:Math.floor(e%86400/3600),minute:Math.floor(e%3600/60),second:Math.floor(e%60)}:{day:0,hour:0,minute:0,second:0};return 1==(t.hour+"").length&&(t.hour="0"+t.hour),1==(t.minute+"").length&&(t.minute="0"+t.minute),1==(t.second+"").length&&(t.second="0"+t.second),t}function n(t){var a=1,l=0;return e.each(t,function(e,t){l+=t.length,0==t.length&&(a=0)}),{flag:a,charsNum:l}}function i(t){var a=t.hour.toString().split(''),l=t.minute.toString().split(''),n=t.second.toString().split('');e("#thisIssueRemainTime").html("<span>"+t.day+"</span><em>:</em><span>"+a[0]+"</span><span>"+a[1]+"</span><em>:</em><span>"+l[0]+"</span><span>"+l[1]+"</span><em>:</em><span>"+n[0]+"</span><span>"+n[1]+"</span>")}var r=e.extend({counter:0,lotteryId:1,lotteryName:'LHC',lotteryType:9,property_id:1,methods:[],maxCombPrize:0,openedIssues:[],minRebateGaps:[{from:0,to:.12,gap:.005},{from:.12,to:.125,gap:.001}],rebate:.123,defaultMode:.5,defaultRebate:.123,missHot:{miss:[],hot:[]},halt:function(e){throw alert(e+'!'),e},prizeRate:0,curIssueInfo:{},lastIssueInfo:{},curMode:0,curMethod:{},curProjects:[],nextProjectCounter:0,curPrizeIndex:-1,rebateGapList:[],todayDrawList:[],curServerTime:'',curRemainTime:0,remainTimer:{},curWaitOpenTime:0,waitOpenTimer:{},getLastOpenTime:0,getLastOpenTimer:{},canBuy:!1,traceMethodPrize:0,tracePrizeLimit:0,canTraceIssues:[],counters:0},t),s={SXBD:{0:1,1:1,2:2,3:3,4:4,5:5,6:7,7:8,8:10,9:12,10:13,11:14,12:15,13:15,14:15,15:15,16:14,17:13,18:12,19:10,20:8,21:7,22:5,23:4,24:3,25:2,26:1,27:1},EXBD:{0:1,1:1,2:2,3:2,4:3,5:3,6:4,7:4,8:5,9:5,10:5,11:4,12:4,13:3,14:3,15:2,16:2,17:1,18:1},SXHZ:{0:1,1:3,2:6,3:10,4:15,5:21,6:28,7:36,8:45,9:55,10:63,11:69,12:73,13:75,14:75,15:73,16:69,17:63,18:55,19:45,20:36,21:28,22:21,23:15,24:10,25:6,26:3,27:1},EXHZ:{0:1,1:2,2:3,3:4,4:5,5:6,6:7,7:8,8:9,9:10,10:9,11:8,12:7,13:6,14:5,15:4,16:3,17:2,18:1},SXZXHZ:{1:1,2:2,3:2,4:4,5:5,6:6,7:8,8:10,9:11,10:13,11:14,12:14,13:15,14:15,15:14,16:14,17:13,18:11,19:10,20:8,21:6,22:5,23:4,24:2,25:2,26:1},factorial:function(e){return e<=1?1:e*s.factorial(e-1)},getNumByIssue:function(e){if(0==e.length)return!1;var t=e.indexOf("-");return-1!=t?e.substr(t+1):e.substr(e.length-3)},expandLotto:function(t){var a=[],l=[],n=0;if(e.each(t,function(t,a){if(""!=e.trim(a)){var i=a.split("_");i.sort(),l.push(i)}else n=1}),n)return[];var i,r,s,o,d;switch(t.length){case 2:for(i=0;i<l[0].length;i++)for(r=0;r<l[1].length;r++)a.push(l[0][i]+" "+l[1][r]);break;case 3:for(i=0;i<l[0].length;i++)for(r=0;r<l[1].length;r++)for(s=0;s<l[2].length;s++)a.push(l[0][i]+" "+l[1][r]+" "+l[2][s]);break;case 5:for(i=0;i<l[0].length;i++)for(r=0;r<l[1].length;r++)for(s=0;s<l[2].length;s++)for(o=0;o<l[3].length;o++)for(d=0;d<l[4].length;d++)a.push(l[0][i]+" "+l[1][r]+" "+l[2][s]+" "+l[2][o]+" "+l[2][d]);break;default:throw"unkown expand"}var c=[];return e.each(a,function(e,t){var a=t.split(" ");array_unique(a).length==a.length&&c.push(t)}),c}},o={changePrize:function(){if(!0!==e.isEmptyObject(r.curMethod)&&r.curMethod.description.indexOf("@P@")>0){for(var t=e("#curPrizeSpan option:selected").text().split("/"),a='',l=r.curMethod.description.split("@P@"),n=1;n<l.length;n++)void 0!=r.curMethod.prize[n]&&(a+=l[n-1]+Math.round(r.curMethod.prize[n]*t[0]/r.curMethod.prize[1]*1e4)/1e4+"元");a+=l[l.length-1],e("#methodDesc").text(a)}r.curPrizeIndex=e("#curPrizeSpan").val(),o.saveLastPrize(),p.updateTotalSingle()},generateGapList:function(){var t=[];e.each(r.minRebateGaps,function(e,a){if(a.from=parseFloat(a.from),a.to=parseFloat(a.to),a.gap=parseFloat(a.gap),r.rebate>a.to)for(var l=a.from;l<=a.to;l+=a.gap)t.push(parseFloat(number_format(l,3)));else{for(l=a.from;l<a.to&&l<r.rebate;l+=a.gap)t.push(parseFloat(number_format(l,3)));t.push(parseFloat(number_format(r.rebate,3)))}}),t=array_unique(t);var a=[];return e.each(t,function(e,t){var l=round(r.maxCombPrize*(r.prizeRate+t),0);a.push({rebate:round(r.rebate-t,3),prize:l})}),a},showPirze:function(){if(!0!==e.isEmptyObject(r.curMethod)){e('#curPrizeSpan').empty(),e.each(r.rebateGapList,function(t,a){var l=round(r.curMode*r.curMethod.prize[1]*(r.prizeRate+r.rebate-r.rebateGapList[t].rebate)/r.prizeRate,4),n=round(r.curMode*r.curMethod.prize[2]*(r.prizeRate+r.rebate-r.rebateGapList[t].rebate)/r.prizeRate,4),i=number_format(100*parseFloat(r.rebateGapList[t].rebate),1);"TMZX"==r.curMethod.name||"SZS"==r.curMethod.name||"EZE"==r.curMethod.name||"ZTYM"==r.curMethod.name?e('#curPrizeSpan').append('<option value="'+t+'"><a>'+l+'</a>/'+i+'%;</option>'):e('#curPrizeSpan').append('<option value="'+t+'">一等奖:'+l+';二等奖:'+n+'/'+i+'%</option>'),-1!==e.inArray(r.curMethod.name,['ELX','SLX','SILX','SZS','EZE','SZE'])?e('#rebateText').text('赔率/返点:'):e('#rebateText').text('返点:')}),e("#curPrizeSpan").val(r.curPrizeIndex),o.changePrize(),$fun=function(t){-1!==e.inArray(r.curMethod.name,['ZTYM','TMZX','TMSX','TMWS','TMSB','TMDXDS','ZTYX','ZTWS'])?(e('.rebateValue1').html(t.split('/')[0]),e('.rebateValue2').html(t.substring(4,t.indexOf(";"))),e('.rebateValue3').html(t.substring(t.indexOf(";")+5).split('/')[0]),e('#rebateValue').html(t.split('/')[1]),e('.prize').text('返点：')):(e('.rebateValue_lmlx').html(t),e('.rebateValue1').html(t.split('/')[0]),e('.rebateValue2').html(t.substring(4,t.indexOf(";"))),e('.rebateValue3').html(t.substring(t.indexOf(";")+5).split('/')[0]),e('.rebateValue10').val(t),e('.rebateValue11').val(t),e('.rebateValue12').val(t),e('#rebateValue').html(t),e('.prize').text('赔率/返点：'))},e('#selectRebate').slider({range:'min',min:0,max:e('#curPrizeSpan option').length-1,value:e('#curPrizeSpan option:selected').index(),slide:function(t,a){e('#curPrizeSpan option').removeAttr('selected'),e('#curPrizeSpan option').eq(a.value).attr('selected',!0);var l=e('#curPrizeSpan option').eq(a.value).html();$fun(l),e('#curPrizeSpan').change(),r.curPrizeIndex=a.value}});var t=e('#curPrizeSpan option:selected').html();$fun(t)}},saveLastPrize:function(){setCookie("reb_"+r.lotteryId,r.rebateGapList[r.curPrizeIndex].rebate,2592e3)}},d={methodGroup_Click:function(t){e(this).addClass("methodGroup_selected").siblings().removeClass("methodGroup_selected methodGroup_hover"),e(t.target).is('label')&&(e(this).find('dd:first').click(),e(".choMainTab").children('.progressBar')&&(e(".progressBar").remove(),e(".choMainTab").css("padding-top",""))),e(this).addClass("methodGroup_hover"),/\w+_(\d+)/.test(e(this).attr("id"));var a=RegExp.$1;e(".playNav ul .methodPopStyle").hide(),e(this).find('.methodPopStyle').show(),e(".methodControl").hide(),e("#method_"+a).show(),e("#method_"+a+"_0").click()},methodGroup_hoverOver:function(){e(this).addClass("methodGroup_hover"),e(this).hasClass("methodGroup_selected")&&e(this).find('.methodPopStyle').show()},methodGroup_hoverOut:function(){e(this).removeClass("methodGroup_hover"),/\w+_(\d+)/.test(e(this).attr("id"));RegExp.$1},method_hoverOver:function(){e(this).addClass("method_hover"),/\w+_(\d+)/.test(e(this).attr("id"));RegExp.$1;e(this).find('.methodPopStyle').show()},method_hoverOut:function(){e(this).removeClass("method_hover"),/\w+_(\d+)/.test(e(this).attr("id"));RegExp.$1;e(this).find('.methodPopStyle').hide()},method_Click:function(t){r.curMethod=t.data;var a=e(this),l=a.attr("pid");e("#"+l).find('.method').removeClass("method_selected"),a.addClass("method_selected"),e('#curMethod').text(r.curMethod.cname),e("#methodDesc").text(r.curMethod.description).hide(),e("#methodTipInfo").hover(function(){layer.tips(e("#methodDesc").text(),this,{tips:[2,'#f13131'],maxWidth:250,time:0,closeBtn:0})},function(){layer.closeAll('tips')}),c.generateBall(),e(".selectRandomBtn").parent().hide(),p.updateSingle(0),o.showPirze(),0==propLen(r.curMethod.field_def)&&(c.showInput(),e("#singleInfo").show(),e("#selectArea").removeClass("N-selected")),2==propLen(r.curMethod.field_def)&&e(".locate").css("padding","10px 0"),3==propLen(r.curMethod.field_def)&&e(".locate").css("padding","10px 0"),4==propLen(r.curMethod.field_def)&&e(".locate").css("padding","5px 0")},selectDefault:function(){e("#methodGroupContainer").find("label:contains('特码')").click(),e(".playNav ul ul").hide()}},c={reset:function(){e.isEmptyObject(r.curMethod.field_def)||(e.each(r.curMethod.field_def,function(t,a){e('#field_'+t).children().removeClass('ball_Selected')}),p.updateSingle(0))},showInput:function(){e("#selectArea").children().remove(),e(str).appendTo("#selectArea"),e("#delTA").click(function(){e("#inputTA").val(""),e(".FatherCodeBtn").removeClass("selectCodeBtn_selected")}),e("#inputTA").live('keyup',function(){''!=e("#inputTA").val()?(e(".FatherCodeBtn").addClass('selectCodeBtn_selected'),e(this).removeClass('MachineSeleBg')):(e(".FatherCodeBtn").removeClass('selectCodeBtn_selected'),e(this).addClass('MachineSeleBg'))})},generateBall:function(){e("#selectArea").children().remove(),e('#quickSelect').data('val',0).text('快捷投注'),-1!==e.inArray(r.curMethod.name,['TMZX','TMSX','TMWS','TMSB','TMDXDS','ZTYX','ZTWS','ZTYM'])?e('#quickSelect').show():e('#quickSelect').hide();var t=new Array(1,2,7,8,12,13,18,19,23,24,29,30,34,35,40,45,46),a=new Array(3,4,9,10,14,15,20,25,26,31,36,37,41,42,47,48),l=new Array(5,6,11,16,17,21,22,27,28,32,33,38,39,43,44,49);e.each(r.curMethod.field_def,function(n,i){var o=i.nums.split(" "),d='',c="",u='';e.each(o,function(n,i){switch(r.curMethod.name){case"SXBD":case"ZSBD":case"QSBD":d+='<li>'+i+'</li>',c+='<li>'+s.SXBD[n]+'</li>';break;case"SXHZ":case"ZSHZ":case"QSHZ":d+='<li>'+i+'</li>',c+='<li>'+s.SXHZ[n]+'</li>';break;case"EXBD":case"QEBD":d+='<li>'+i+'</li>',c+='<li>'+s.EXBD[n]+'</li>';break;case"EXHZ":case"QEHZ":d+='<li>'+i+'</li>',c+='<li>'+s.EXHZ[n]+'</li>';break;case'SXZXHZ':case'QSZXHZ':d+='<li>'+i+'</li>',c+='<li>'+s.SXZXHZ[n+1]+'</li>';break;case'TMZX':case'ZTYM':-1!=e.inArray(parseInt(i),t)?u='red':-1!=e.inArray(parseInt(i),a)?u='blue':-1!=e.inArray(parseInt(i),l)&&(u='green'),d+="<li><span class=\""+u+'">'+i+"</span><b class=\"rebateValue1\"></b><input type=\"number\" list=\"itemlist\" name=\"multiple\" class=\"f-left form-control\" maxlength=\"5\" data-ball=\""+i+'" /></li>';break;case'ELX':case'SLX':case'SILX':case'SZS':case'SZE':case'EZE':d+='<li>'+i+'</li>';break;default:var o='red';'蓝'==i&&(o='blue'),'绿'==i&&(o='green'),d+="<li><span class=\""+o+'">'+i+'</span>';var p='rebateValue2';i>0&&(p='rebateValue3'),'鸡'==i&&(p='rebateValue3'),'红'==i&&(p='rebateValue3'),'大'==i&&(p='rebateValue3'),'单'==i&&(p='rebateValue3'),d+='<b name="'+i+'" class="'+p+'"></b>',d+='<input type="number" list="itemlist" name="multiple" class="f-left form-control" maxlength="5" data-ball="'+i+'" /></li>'}});"ELX"===r.curMethod.name||"SLX"===r.curMethod.name||"SILX"===r.curMethod.name||"SZS"===r.curMethod.name||"SZE"===r.curMethod.name||"EZE"===r.curMethod.name?(d="<li><ul class=\"ballList"+(/(BD|HZ)$/.test(r.curMethod.name)?" w400":"")+' x_uimb" id=field_'+n+">"+d+"</ul></li>",e("#confirmBtn").show(),e(".rebateValue_lmlx").show(),e("#totalSingleInfo").show(),e("#multiple").show()):(d="<li class=\"allw100\"><ul class=\"ballList"+(/(BD|HZ)$/.test(r.curMethod.name)?" w400":"")+'new_x" id=field_'+n+">"+d+"</ul></li>",e("#confirmBtn").show(),e("#rebateValue").show(),e(".rebateValue_lmlx").hide(),e("#totalSingleInfo").hide(),e("#multiple").hide()),c='<li><ul class="BDHZinfo">'+c+"</ul></li>";e('<div class="locate" id="locate_'+n+"\"><ul class=\"lotteryNumber\">"+(i.prompt?'<li class="areaPrefix" style="display:none">'+i.prompt+"</li>":"")+d+"</ul></div>").appendTo("#selectArea");var p=[];p.length>0&&e.each(p,function(t,a){e(a).appendTo('#selectArea')})}),-1===e.inArray(r.curMethod.name,['TMZX','TMSX','TMWS','TMSB','TMDXDS','ZTYX','ZTWS','ZTYM'])&&e('.lotteryNumber ul>li').bind("click",c.ball_Click),e(".f-left").click(function(){this.focus(),this.select()}).blur(function(){''!=this.value&&0!=this.value||(this.value='',p.updateTotalSingle())}).keyup(p.checkMultiple).keyup(p.updateTotalSingle)},ball_Click:function(t){var a=e(this);e(this).toggleClass("ball_Selected"),a.find('span').length>0&&a.find('span').toggleClass('lhc_select'),/\w+_(\d+)/.test(e(this).parent().attr("id"));var l=RegExp.$1;e(this).parent().find(".ball_Selected").length>r.curMethod.field_def[l].max_selected?1==r.curMethod.field_def[l].max_selected?e(this).siblings(".ball_Selected").removeClass("ball_Selected"):(e(this).removeClass("ball_Selected"),parent.layer.alert("当前最多只能选择"+r.curMethod.field_def[l].max_selected+"个号码",{icon:7})):c.computeSingle()},computeSingle:function(){var t=[];e.each(r.curMethod.field_def,function(a,l){var n="",i=r.curMethod.field_def[a].nums.split(" ");e("#field_"+a+" li").each(function(t){var l=e(this);e(this).hasClass("ball_Selected")&&(9==r.lotteryType||r.curMethod.field_def[a].max_selected>10||i[i.length-1].length>1?1==+e('#quickSelect').data('val')?n+=l.find('span').text()+'_':n+=l.text()+'_':1==+e('#quickSelect').data('val')?n+=l.find('span').text():n+=l.text())}),-1==n.indexOf("_")?t.push(n):t.push(n.substr(0,n.length-1))});var a=m(t);p.updateSingle(a.singleNum);var l=t.join(",");return{singleNum:a.singleNum,isDup:a.isDup,code:l}}},u={missHotBtn_Click:function(){"1"==e(this).val()?(e("#selectArea .missDIV").removeClass("hidden"),e("#selectArea .hotDIV").addClass("hidden")):(e("#selectArea .missDIV").addClass("hidden"),e("#selectArea .hotDIV").removeClass("hidden"))}},p={plusBtn_Click:function(){var t=e("#multiple").val();e("#multiple").val(parseInt(t)+1),p.checkMultiple(),p.updateTotalSingle()},minusBtn_Click:function(){var t=e("#multiple").val();parseInt(t)>1&&(e("#multiple").val(t-1),p.checkMultiple(),p.updateTotalSingle())},inputBtn_Click:function(t){r.curMethod=t.data,c.showInput();var a=e(this),l=a.attr("pid");e("#"+l).find('.method').removeClass("method_selected"),a.addClass("method_selected"),e("#selectCodeBtn").addClass("selectCodeBtn_selected"),e(".selectRandomBtn").parent().show(),e("#selectArea").removeClass("N-selected")},selectCodeBtn_Click:function(){if(0==e("#totalBetCount").text()&&parent.layer.alert("请先选择号码再投注",{icon:7}),e("#inputTA").length>0){var t=[];if(0==e.trim(e("#inputTA").val()).length)return!1;var a={singleNum:1,isDup:0},l='<li><span class="width1" mid="'+r.curMethod.method_id+'" mname="'+r.curMethod.name+'">',n=r.curMethod.cname+'</span><span class="width2">';if(t.length<=1e3)for(var i in t){var a=m(t[i]),s=number_format(2*a.singleNum*r.curMode,3),o='</span><span class="width3">'+a.singleNum+'注</span><span class="width4">￥'+s+'</span><span class="xDel">X</span></li>';if(a.isDup)return parent.layer.alert("您输入的号码有误，请重新检查输入!",{icon:7}),!1;r.nextProjectCounter++,e(l+n+t[i].join(",")+o).appendTo("#projectList")}else{var d='',u='';for(var i in t)if(d&&(d+='|'),d+=t[i].join(","),(a=m(t[i])).isDup)return parent.layer.alert("您输入的号码有误，请重新检查输入!",{icon:7}),!1;var s=number_format(2*t.length*r.curMode,3),o='</span><span class="width3">'+t.length+'注</span><span class="width4">￥'+s+'</span><span class="xDel">X</span></li>';r.nextProjectCounter=t.length,e(u+=l+n+d+o).appendTo("#projectList")}p.updateTotalSingle(),e("#delTA").click()}else{if(0==(a=c.computeSingle()).singleNum)return!1;r.nextProjectCounter++;s=number_format(2*a.singleNum*r.curMode,3);e('<li><span class="width1" mid="'+r.curMethod.method_id+'" mname="'+r.curMethod.name+'">'+r.curMethod.cname+'</span><span class="width2">'+a.code+'</span><span class="width3">'+a.singleNum+'注</span><span class="width4">￥'+s+'</span><span class="xDel">X</span></li>').appendTo("#projectList"),p.updateTotalSingle(),c.reset()}e("#confirmBtn").click()},rxInputCodes:function(e,t){for(var a=['-','-','-','-','-'],l=e[0];l<=e[e.length-1];l++)a[l]=''},removeAll:function(){e("#token").val(""),e(".ball_Selected").removeClass("ball_Selected"),e(".lhc_select").removeClass("lhc_select"),e('#betCount').text(0),e("#projectList").empty(),r.nextProjectCounter=0,e("#multiple").val(""),p.updateTotalSingle()},updateSingle:function(t){var a=number_format(2*t*r.curMode,3);return e("#betCount").text(t),e("#betAmount").text(a),!0},updateTotalSingle:function(){var t=0;e("#projectList").children("li").each(function(a){spans=e(this).children(),t+=parseInt(spans.eq(2).text()),spans.eq(3).text("￥"+number_format(2*parseInt(spans.eq(2).text())*e("#multiple").val()*r.curMode,3))}),t>0?e("#confirmBtn").addClass('CantapCodeBtn_selected'):e("#confirmBtn").removeClass('CantapCodeBtn_selected');var a=0==e('#projectList li').length?1:e('#projectList li').length;e("#totalBetCount").text(t);var l=number_format(2*t*e("#multiple").val()*r.curMode,3);e("#totalBetAmount").text(l);var n,i=e('#curPrizeSpan').find("option:selected").text();n="特码直选"==r.curMethod.cname||"三中三"==r.curMethod.cname||"二中二"==r.curMethod.cname||"正特一码"==r.curMethod.cname?i.split('/')[0]:i.match(/\d+\.\d+/)[0],e("#totalWin").text(number_format(n*a*e("#multiple").val()-l,3))},checkMultiple:function(){return this.value=this.value.replace(/^0|[^\d]/g,''),!(e(this).val()>5e4)||(parent.layer.alert("请重新输入金额,单注最高额度为50000",{icon:7}),e(this).val(5e4),!0)},confirmBtn_Click:function(){var t='',a=[],l=0,n=0,i=+e('#quickSelect').data('val');if(["ELX","SLX","SILX","SZS","SZE","EZE"].includes(r.curMethod.name)||1===i){if(t='buy',e('.locate').each(function(t){var l=[];e('#locate_'+(t+=1)+' .ball_Selected').each(function(t,a){var n=e(a);l[l.length]=i?n.find('span').text():n.text()}),a[a.length]=l.join('_')}),a=a.join(','),n=e('#betCount').text(),l+=n*e("#multiple").val(),!/^[1-9]*[1-9][0-9]*$/.test(e("#multiple").val()))return parent.layer.alert("请重新输入金额,单注最高额度为50000",{icon:7}),e("#multiple").val(""),!1}else if(t='xbuy',e.each(e('.f-left'),function(t,i){var r=e(i);/^[1-9]*[1-9][0-9]*$/.test(r.val())&&(a[a.length]=r.data('ball').toString()+'+'+r.val(),l+=parseInt(r.val()),++n)}),a=a.join('|'),0===l||0===n)return parent.layer.alert("请选填写整数金额，例如：100",{icon:7}),!1;if(a=r.curMethod.method_id.toString()+':'+a,!r.canBuy)return parent.layer.alert("该期已截止购买",{icon:7}),!1;if(0===a.length)return parent.layer.alert("请先选择号码再投注",{icon:7}),!1;var s,o=0,d='';"ELX"===r.curMethod.name||"SLX"===r.curMethod.name||"SILX"===r.curMethod.name||"SZS"===r.curMethod.name||"SZE"===r.curMethod.name||"EZE"===r.curMethod.name?(d=a.split(':')[1],s='<div id="buy_message">请确认以下投注内容：<br>************************<br>玩法：<span>'+r.curMethod.cname+'</span><br>期号：'+r.curIssueInfo.issue+'<br>内容：'+d+"<br>注数："+n+"注<br>总 金 额：￥"+l+"<br>************************<br></div>"):(d=a.split(':')[1].replace(/\+.*?\|/g,',').split('+')[0],s='<div id="buy_message">请确认以下投注内容：<br>************************<br>玩法：<span>'+r.curMethod.cname+'</span><br>期号：'+r.curIssueInfo.issue+'<br>内容：'+d+"<br>总 金 额：￥"+l+"<br>************************<br></div>");parent.layer.confirm(s,{icon:7},function(i){if(parent.$('.xubox_botton').empty(),parent.$('.xubox_botton').html('<div class="LoadingShow"><span class="Loading_icon"></span><span class="Loading_Font">投注中，请稍后...</span></div>'),1==(o+=1)){e.post("?c=game&a=play",{op:t,lotteryId:r.lotteryId,issue:r.curIssueInfo.issue,curRebate:r.rebateGapList[r.curPrizeIndex].rebate,modes:r.curMode,codes:a,xgame:1,multiple:'xbuy'===t?1:e("#multiple").val(),token:getRandChar(32)},function(t){if(0==t.errno){if(h.todayBuyBtnNew_Click(),e('.f-left').val(""),p.removeAll(),"ELX"===r.curMethod.name||"SLX"===r.curMethod.name||"SILX"===r.curMethod.name||"SZS"===r.curMethod.name||"SZE"===r.curMethod.name||"EZE"===r.curMethod.name)a='<div id="buy_success_message">购买成功!<br>************************<br>订单编号：'+t.pkgnum+"<br>玩法：<span>"+r.curMethod.cname+'</span><br>期号：'+r.curIssueInfo.issue+'<br>内容：'+d+"<br>注数："+n+"注<br>投注总额：￥"+l+"<br>************************<br></div>";else var a='<div id="buy_success_message">购买成功!<br>************************<br>订单编号：'+t.pkgnum+"<br>玩法：<span>"+r.curMethod.cname+'</span><br>期号：'+r.curIssueInfo.issue+'<br>内容：'+d+"<br>投注总额：￥"+l+"<br>************************<br></div>";parent.layer.close(i),parent.layer.alert(a,{icon:1}),parent.$('.xubox_yes').focus(),parent.$('.xubox_yes').one('keyup',function(e){var t=e.keyCode?e.keyCode:e.which;32==t&&parent.$('.xubox_yes').trigger("click"),27==t&&parent.$('.xubox_no').trigger("click")})}else 65534==t.errno||(parent.layer.close(i),parent.layer.alert("购买失败:"+t.errstr,{icon:2}),console.log("错误代码:"+t.errno));showBalance()},"json").fail(function(e){parent.layer.close(i),parent.layer.alert("网络异常，请在“游戏记录-订单查询”中确认该订单是否提交成功。",{icon:2})});var s=setInterval(function(){0==(o=0)&&clearInterval(s)},5e3)}});parent.$('.xubox_yes').focus(),parent.$('.xubox_yes').one('keyup',function(e){var t=e.keyCode?e.keyCode:e.which;32==t&&parent.$('.xubox_yes').trigger("click"),27==t&&parent.$('.xubox_no').trigger("click")}),e("#projectList").empty(),e("#totalBetCount").text("0")}};e('#clearProjectBtn').click(function(){e('.f-left').val("")});var h={init:function(){if(runTime.remainTimer=window.setInterval(h.showCurIssue_Timer,1e3),""==r.lastIssueInfo.code)r.getLastOpenTime=0,clearInterval(runTime.getLastOpenTimer),runTime.getLastOpenTimer=window.setInterval(h.getLastOpen_Timer,1e3),e("#thisIssueInfo").addClass("lock"),r.canBuy=!1,e("#thisIssueSpan").text(r.lastIssueInfo.issue);else{var t=r.todayDrawList[0];if(r.lastIssueInfo.issue!=t.issue){var a=r.lastIssueInfo,l=h.getMoreInfo(a.code);if(a.prop=l,r.todayDrawList.unshift(a),e("#todayDrawBtn").hasClass("cur")){var n=r.todayDrawList[0],i='<ul class="fix"><li class="width:30%">'+n.issue+'</li><li class="width:70%">'+n.code+"</li>";e("#todayIssuesBody").prepend(i)}}}var s;null!=r.todayDrawList[0].code&&(s=r.todayDrawList[0].code.split(" ")),e('#thisIssueNumUL').empty().hide(),e('#pendingText').show(),null!=s&&e.each(s,function(t,a){t<s.length-1?e('#thisIssueNumUL').append('<span class="pendingBall"></span>'):e('#thisIssueNumUL').append('<span class="lan pendingBall"></span><a class="sfnums">特</a>')}),h.showLastDraw(),r.canBuy=!0},getCurIssue:function(t){e.ajax({url:"?c=game&a=play",type:"POST",data:{op:"getCurIssue",lotteryId:r.lotteryId},cache:!1,dataType:"json",timeout:3e4,success:function(n){if(0==n.errno)if(0!=n.kTime){e('#confirmBtn').attr("disabled","disabled"),e('#confirmBtn').css("background","#ccc"),e('#quickSelect').attr('disabled','disabled'),e('#quickSelect').css('background','#ccc'),e('#lastIssueSpan').text('**'),e('#curIssueSpan').text('**'),e('#thisIssueSpan').text('*************');var i=n.kTime/1e3;window.setInterval(function(){var t=l(--i),a='<span style="font-size: 26px;color: red; text-align: center;   margin-top: 20px;">休市中...</span>';a+="<div style='font-size: 18px;'><span>距离下次开市:"+t.hour+"</span><em>:</em><span>"+t.minute+"</span><em>:</em><span>"+t.second+"</span></div>",e('#pendingText').html(a)},1e3),window.setTimeout(function(){clearInterval(runTime.waitOpenTimer),window.location.reload()},n.kTime)}else r.curIssueInfo=n.issueInfo,r.curServerTime=n.serverTime,r.curRemainTime=getTS(r.curIssueInfo.end_time)-getTS(r.curServerTime),r.curWaitOpenTime=8,r.lastIssueInfo=n.lastIssueInfo,n.lastIssueInfo&&r.counters>0&&a(n.lastIssueInfo),r.counters++,"function"==typeof t&&t();else alert("系统繁忙，请稍候再试(02)")},error:function(e,t,a){-1!=a.indexOf("a=logout")||-1!=a.indexOf("a=login")?(top.layer.alert("您已经超时退出，请重新登录",{icon:7}),window.location.href="?a=logout"):top.layer.alert("操作超时，请刷新页面..",{icon:7})}})},showCurIssue_Timer:function(){e("#thisIssueSpan").text(r.curIssueInfo.issue),e("#thisIssueSpan2").text(r.curIssueInfo.issue);var t=l(--r.curRemainTime);if(r.curRemainTime>=0)i(t),e("#thisIssueTimerIcon").removeClass("lock").addClass('clock').text("可以投注");else{clearInterval(runTime.remainTimer),layer.alert(r.curIssueInfo.issue+'期销售已截止，请进入下一期购买',{icon:7}),e('#thisIssueTimerIcon').removeClass('clock').addClass('lock').text("已截止投注");var a=l(r.curWaitOpenTime);t.day=a.day,t.hour=a.hour,t.minute=a.minute,t.second=a.second,i(a),r.canBuy=!1,runTime.waitOpenTimer=window.setInterval(h.waitOpen_Timer,1e3)}},waitOpen_Timer:function(){e('#pendingText').show(),e('#thisIssueNumUL').hide(),--r.curWaitOpenTime,i(l(r.curWaitOpenTime)),r.curWaitOpenTime<0&&(clearInterval(runTime.waitOpenTimer),h.getCurIssue(h.init))},getLastOpen_Timer:function(){r.getLastOpenTime++,r.getLastOpenTime%10==0&&e.ajax({url:"?c=game&a=play",type:"POST",data:{op:"getLastIssueCode",lotteryId:r.lotteryId,issue:r.lastIssueInfo.issue},cache:!1,dataType:"json",timeout:3e4,success:function(t){if(0==t.errno){if(0!=t.kTime)clearInterval(runTime.waitOpenTimer),window.location.reload();else if(void 0!==t.issueInfo.code){clearInterval(runTime.getLastOpenTimer),r.getLastOpenTime=0,r.lastIssueInfo=t.issueInfo,a(t.issueInfo);var l=h.getMoreInfo(t.issueInfo.code);if(t.issueInfo.prop=l,r.todayDrawList.unshift(t.issueInfo),e("#todayDrawBtn").hasClass("cur")){var n=r.todayDrawList[0],i='<ul><li class="width247px">'+n.issue+'</li><li class="width247px">'+n.code+"</li>";e("#todayIssuesBody").prepend(i)}h.showLastDraw()}}else alert("系统繁忙，请稍候再试(03)")},error:function(e,t,a){-1!=a.indexOf("a=logout")||-1!=a.indexOf("a=login")?(top.layer.alert("您已经超时退出，请重新登录",{icon:7}),window.location.href="?a=logout"):top.layer.alert("操作超时，请刷新页面...",{icon:7})}})},showLastDraw:function(){var t=r.todayDrawList[0];e("#curIssueSpan").text(r.lastIssueInfo.issue),e("#lastIssueSpan").text(r.lastIssueInfo.issue);var a;if(r.lastIssueInfo.issue==t.issue){if(null==t.code)return;e('#pendingText').hide(),e('#thisIssueNumUL').show();var l=t.code.split(" ");a="<ul><li>第一位：<span>"+l[0]+"</span></li><li>第二位：<span>"+l[0]+","+l[1]+"</span></li></ul><ul><li>第三位：<span>"+l[0]+","+l[1]+","+l[2]+"</span></li></ul>";var n=index2=0;e("#todayIssuesBody").find("li:first").text()!=r.curIssueInfo.issue&&h.todayBuyBtnNew_Click(),e(".sfnums").hide();var i=function(){if(e("#thisIssueNumUL").children(".pendingBall").length>0){var t=e("#thisIssueNumUL").children(".pendingBall").first();window.setTimeout(function(){t.removeClass("pendingBall sd115Ball").text(l[n++]),t.addClass("sd115_Ball bl"+l[index2++]),e(".lan").hasClass("sd115_Ball")&&e(".sfnums").show(),i()},500)}};window.setTimeout(i,100)}else e("#thisIssueNumUL").children().addClass("pendingBall").removeClass("sd115_Ball"),a="<ul><li>第一位：<span></span></li><li>第二位：<span></span></li><li>第三位：<span></span></li></ul>";e("#thisIssueMoreInfo").html(a)},todayDrawBtn_Click:function(){e("#todayIssuesHead").html('<li class="w60iss">期号</li><li class="w145iss">开奖号</li>'),e("#todayIssuesBody").empty(),e.each(r.todayDrawList,function(t,a){for(var l="",n=0;n<a.code.length;n++)"<b>"+a.code[n]+"</b>",l+=a.code[n];var i=l.split(" ").join("</b><b>"),r='<ul class="fix1"><li class="w60iss">'+a.issue+'</li><li class="w170iss"><b>'+i+"</b></li></ul>";e("#todayIssuesBody").append(r)})},prizeRankBtn_Click:function(){e("#todayBuyBody").empty().hide(),e.post("?c=game&a=play",{op:"getPrizeRank",lotteryId:r.lotteryId},function(t){0==t.errno?0==t.data.length?e('<div class="todayNoBet">暂时没有记录！</div>').appendTo("#prizeScrollContent"):(e("#prizeScrollContent").empty(),e.each(t.data,function(t,a){e('<ul><li><span>'+a.nick_name+"</span> 喜中 <em>"+number_format(a.total_prize,2)+"</em>元</li></ul>").appendTo(e("#prizeScrollContent"))}),e("#prizeScrollContent").html(e("#prizeScrollContent").html()+e("#prizeScrollContent").html()).show(),0==runTime.scollTopIntervalTimer&&(runTime.scollTopIntervalTimer=window.setInterval(h.scrollPrizeRank,100),e("#prizeScrollContent").mouseover(function(){clearInterval(runTime.scollTopIntervalTimer)}).mouseout(function(){runTime.scollTopIntervalTimer=window.setInterval(h.scrollPrizeRank,100)}))):alert("暂时没有排行数据！")},"json")},todayBuyBtnNew_Click:function(){e("#todayIssuesBody").find("li:first").text()!=r.curIssueInfo.issue&&e.post("?c=game&a=play",{op:"getBuyRecords",lotteryId:r.lotteryId},function(t){0==t.errno?(e("#todayBuyBody").empty(),e('<ul><li class="C1">玩法</li><li class="C2">期号</li><li class="C4">金额</li><li class="C5">状态</li></ul><div class="clear"></div>').appendTo("#todayBuyBody"),0==t.prj.length?e('<div class="todayNoBet">暂时没有记录！</div>').appendTo("#todayBuyBody"):e.each(t.prj,function(t,a){e('<ul class="fix"><li class="C1"><a href="javascript:void(0);" onclick="showPackageDetail(\''+a.wrapId+'\');return false;">'+a.methodName+'</a></li><li class="C2">'+s.getNumByIssue(a.issue)+'</li><li class="C4">'+a.amount+'</li><li class="C5">'+a.prizeStatus+"</li></ul>").click(function(){}).appendTo("#todayBuyBody")})):alert("系统繁忙，请稍候再试(04)")},"json")},scrollPrizeRank:function(){var t=e("#prizeScrollContent")[0];t.scrollTop+=1,t.scrollTop>=e("#prizeScrollContent")[0].scrollHeight/2&&(t.scrollTop=0)},getMoreInfo:function(e){var t={};if(1==r.lotteryType||4==r.lotteryType){var a=e.split("");t.qshz=parseInt(a[0])+parseInt(a[1])+parseInt(a[2]),t.qszt=h.zutai(a[0],a[1],a[2]),t.hshz=parseInt(a[2])+parseInt(a[3])+parseInt(a[4]),t.hszt=h.zutai(a[2],a[3],a[4]),t.hehz=parseInt(a[3])+parseInt(a[4]),t.dxds=h.dxds(a[3],a[4])}return t},zutai:function(e,t,a){return e==t&&e==a&&t==a?"豹子":e==t||e==a||t==a?"组三":"组六"},dxds:function(e,t){var a=[],l=[];return a.push(e>=5?"大":"小"),a.push(e%2==1?"单":"双"),l.push(t>=5?"大":"小"),l.push(t%2==1?"单":"双"),[a[0]+l[0],a[0]+l[1],a[1]+l[0],a[1]+l[1]].join(",")}};if(!function(){var a=0;return void 0==t.lotteryId||!is_numeric(t.lotteryId)||t.lotteryId<=0?a=-1:void 0==t.lotteryName||''==t.lotteryName?a=-2:void 0!=t.lotteryType&&is_numeric(t.lotteryType)&&-1!=e.inArray(t.lotteryType,[9])?void 0!=t.methods&&e.isArray(t.methods)&&0!=t.methods.length?void 0!=t.openedIssues&&e.isArray(t.openedIssues)&&0!=t.openedIssues.length?void 0!=t.minRebateGaps&&e.isArray(t.minRebateGaps)&&0!=t.minRebateGaps.length?void 0==t.rebate||!is_numeric(t.rebate)||t.rebate<0||t.rebate>.15?a=-7:void 0!=t.defaultMode&&is_numeric(t.defaultMode)&&-1!=!e.inArray(t.defaultMode,[.5])?void 0==t.defaultRebate||!is_numeric(t.defaultRebate)||t.defaultRebate<0||t.defaultRebate>t.rebate?a=-9:(void 0==t.maxCombPrize||!is_numeric(t.maxCombPrize)||t.maxCombPrize<=0)&&(a=-10):a=-8:a=-6:a=-5:a=-4:a=-3,a<0&&console.info('参数错误：flag='+a),0==a}())return parent.layer.alert("数据初始化失败",{icon:2}),!1;r.rebateGapList=o.generateGapList(),0==r.rebateGapList.length&&r.halt("initPrizeBar failed"),r.curPrizeIndex=r.rebateGapList.length-1,o.showPirze(),e('#curPrizeSpan').change(o.changePrize),function(){var t=.5,a=parseFloat(getCookie("mod_"+r.lotteryId));e.each([.5],function(e,l){l==a&&(t=l)}),r.curMode=t}(),e.each(r.methods,function(t,a){1==a.childs.length?e('<li class="methodGroupLI_'+t+'" id="methodGroup_'+t+'"><label>'+a.mg_name+"</label></li>").click(d.methodGroup_Click).appendTo("#methodGroupContainer"):e('<li class="methodGroupLI_'+t+'" id="methodGroup_'+t+'"><label>'+a.mg_name+"</label></li>").click(d.methodGroup_Click).hover(d.methodGroup_hoverOver,d.methodGroup_hoverOut).appendTo("#methodGroupContainer");var l=dl2=dl3=dl4=dl5=dl6=dl7=dl8=dl9=dl0=dl10='';6==a.mg_id||50==a.mg_id||57==a.mg_id||169==a.mg_id?(dl0='<dl class="fix"><dt>任选复式：</dt>',dl10='<dl class="fix"><dt>任选单式：</dt>'):(l='<dl class="fix"><dt>直选：</dt>',dl2='<dl class="fix"><dt>组选：</dt>',dl3='<dl class="fix"><dt>趣味：</dt>',dl4='<dl class="fix"><dt>特殊：</dt>',dl5='<dl class="fix"><dt>定位：</dt>',dl6='<dl class="fix"><dt>不定位：</dt>',dl7='<dl class="fix"><dt>任选二：</dt>',dl8='<dl class="fix"><dt>任选三：</dt>',dl9='<dl class="fix"><dt>任选四：</dt>',dl0='<dl class="fix"><dt>其他：</dt>'),div=0==t?e('<div id="method_'+t+'" class="methodControl"></div>').addClass('methodPopStyle'):e('<div id="method_'+t+'" class="methodControl"></div>').addClass('methodPopStyle').hide(),e.each(a.childs,function(e,n){var i='<dd class="method" name="'+n.name+'" pid="method_'+t+'" id="method_'+t+"_"+e+'">'+n.cname+'</dd>',r='';1==n.method_property?l+=i:2==n.method_property?dl2+=i:3==n.method_property?dl3+=i:4==n.method_property?dl4+=i:5==n.method_property?dl5+=i:6==n.method_property?dl6+=i:7==n.method_property?dl7+=i:8==n.method_property?dl8+=i:9==n.method_property?dl9+=i:0==n.method_property&&(dl0+=i),1==n.can_input&&(r='<dd class="method" name="'+n.name+"son\" pid=\"method_"+t+'" id="method_'+t+"_"+e+"son\">"+n.cname+"单式</dd>",1==n.method_property?l+=r:2==n.method_property?dl2+=r:3==n.method_property?dl3+=r:4==n.method_property?dl4+=r:5==n.method_property?dl5+=r:6==n.method_property?dl6+=r:7==n.method_property?dl7+=r:8==n.method_property?dl8+=r:9==n.method_property?dl9+=r:0==n.method_property&&(6==a.mg_id||50==a.mg_id||57==a.mg_id||169==a.mg_id?dl10+=r:dl0+=r))}),l+='</dl>',dl2+='</dl>',dl3+='</dl>',dl4+='</dl>',dl5+='</dl>',dl6+='</dl>',dl7+='</dl>',dl8+='</dl>',dl9+='</dl>',dl0+='</dl>',dl10+='</dl>',l.indexOf('</dd>')<0&&(l=''),dl2.indexOf('</dd>')<0&&(dl2=''),dl3.indexOf('</dd>')<0&&(dl3=''),dl4.indexOf('</dd>')<0&&(dl4=''),dl5.indexOf('</dd>')<0&&(dl5=''),dl6.indexOf('</dd>')<0&&(dl6=''),dl7.indexOf('</dd>')<0&&(dl7=''),dl8.indexOf('</dd>')<0&&(dl8=''),dl9.indexOf('</dd>')<0&&(dl9=''),dl0.indexOf('</dd>')<0&&(dl0=''),dl10.indexOf('</dd>')<0&&(dl10=''),e(l+dl2+dl3+dl4+dl5+dl6+dl7+dl8+dl9+dl0+dl10).appendTo(div),e.each(a.childs,function(a,l){e('#method_'+t+"_"+a).live("click",l,d.method_Click).hover(d.method_hoverOver,d.methodGroup_hoverOut),e("#method_"+t+"_"+a+"son").live("click",l,p.inputBtn_Click).hover(d.method_hoverOver,d.methodGroup_hoverOut)}),e("#methods").append(div)}),e(".subTopBar").mouseleave(function(){e(this).find("li").removeClass("methodGroup_hover")}),d.selectDefault(),e("input[name=missHotBtn]").click(u.missHotBtn_Click),e("input[name=missHotBtn][value=1]").click(),r.nextProjectCounter=0,p.removeAll(),e("#multiple").click(function(){this.focus(),this.select()}).keyup(p.checkMultiple).keyup(p.updateTotalSingle),e(".xDel").live("click",function(){e(this).parent().remove(),p.updateTotalSingle()}),e('#quickSelect').click(function(){var t=e(this),a=+e(this).data('val');e('#betCount').text('0'),0===a?(t.data('val',1),e('.f-left').attr('readonly','readonly').css('backgroundColor','#eee').addClass('cur-not').val(''),e('#totalSingleInfo').show(),e('#singleInfo').show(),e('#multiple').show().val(''),e('.lotteryNumber ul>li').bind('click',c.ball_Click).addClass("ball_lihover"),t.text('一般投注')):(t.data('val',0),e('.f-left').removeAttr('readonly').css('backgroundColor','').removeClass('cur-not').val(''),e('#totalSingleInfo').hide(),e('#singleInfo').hide(),e('#multiple').val(''),e('.lotteryNumber ul>li').unbind('click',c.ball_Click).removeClass("ball_lihover"),e('.ball_Selected').removeClass('ball_Selected'),e('.lhc_select').removeClass('lhc_select'),t.text('快捷投注'))}),e('#choPirze li').click(function(){var t=e('.f-left').length;+e('#quickSelect').data('val')||0===t?e('#multiple').val(e(this).data('value')):e('.f-left').val(e(this).data('value'))}),e("#clearProjectBtn").click(p.removeAll),e("#inputBtn").click(p.inputBtn_Click),e("#selectCodeBtn").click(p.selectCodeBtn_Click),e("#selectCodeBtnFast").click(p.selectCodeBtnFast),e("#confirmBtn").click(function(){p.confirmBtn_Click()}),e(".selectRandomBtn").click(p.selectRandomBtn_Click),e("#plusBtn").click(p.plusBtn_Click),e("#minusBtn").click(p.minusBtn_Click),e("#curLotteryName").text(r.lotteryName),e("#curLotteryName2").text(r.lotteryName),e("#todayIssuesHead").html('<li class="width:30%">期号</li><li class="width:70%">开奖号</li>'),e("#todayDrawBtn").find(h.todayDrawBtn_Click),e("#prizeRankBtn").click(h.prizeRankBtn_Click),h.todayBuyBtnNew_Click(),e.each(r.openedIssues,function(e,t){t.prop=h.getMoreInfo(t.code),r.todayDrawList.push(t)}),e("#prizeRankBtn").click(),h.getCurIssue(h.init);var m=function(e){if(0==n(e).charsNum)return{singleNum:0,isDup:0};var t,a=0,l=0;switch(r.curMethod.name){case'TMZX':case'TMSX':case'TMWS':case'TMSB':case'TMDXDS':case'ZTYM':case'ZTYX':case'ZTWS':l=(a=(t=e[0].split('_')).length)>1?1:0;break;case'ELX':case'EZE':(t=e[0].split('_')).length>=2&&(a=t.length*(t.length-1)/2),l=a>1?1:0;break;case'SLX':case'SZS':case'SZE':(t=e[0].split('_')).length>=3&&(a=t.length*(t.length-1)*(t.length-2)/6),l=a>1?1:0;break;case'SILX':(t=e[0].split('_')).length>=4&&(a=t.length*(t.length-1)*(t.length-2)*(t.length-3)/24),l=a>1?1:0;break;default:throw"unknown method2 "+r.curMethod.name}return{singleNum:a,isDup:l}}}}(jQuery);